<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- meta name="cache-control" content="public">
    <meta name="expires" content="Wed, 1 Jan 2025 12:00:00 GMT" -->
    <!-- for ios 7 style, multi-resolution icon of 152x152 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-barstyle" content="black-translucent">
    <link rel="apple-touch-icon" href="images/squirrel.svg">
    <!-- for Chrome on Android, multi-resolution icon of 196x196 -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" sizes="196x196" href="images/squirrel.svg">
    <title>Squirrel</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />

    <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.ui-contextmenu/1.18.1/jquery.ui-contextmenu.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-touch-events/1.0.9/jquery.mobile-events.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
    
    <!-- ZeroClipboard doesn't work when served from CDN -->
    <!--script class="compressable" src="libs/ZeroClipboard.js"></script-->
    <!--script class="compressable" src="js/ZeroClipboardShim.js"></script-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>

    <script class="compressable" src="libs/aes.js"></script>
    <script class="compressable" src="js/Utils.js"></script>
    <script class="compressable" src="js/RGBA.js"></script>
    <script class="compressable" src="js/Translation.js"></script>
    <script class="compressable" src="js/AbstractStore.js"></script>
    <script class="compressable" src="js/LocalStorageStore.js"></script>
    <script class="compressable" src="js/AES.js"></script>
    <script class="compressable" src="js/EncryptedStore.js"></script>
    <script class="compressable" src="js/Hoard.js"></script>

    <script class="compressable" src="js/edit_in_place.js"></script>
    <script class="compressable" src="js/scroll_into_view.js"></script>
    <script class="compressable" src="js/Squirrel.js"></script>
    <script class="compressable" src="js/Tree.js",></script>
    <script class="compressable" src="js/Dialogs.js"></script>

    <link href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">
    <link class="compressable" href="css/Icons.css" rel="stylesheet">
    <link class="compressable" href="css/Tree.css" rel="stylesheet">
    <link class="compressable" href="css/Dialogs.css" rel="stylesheet">
    <link class="compressable" href="css/Squirrel.css" rel="stylesheet">
  </head>
  <body>
    <div id="unauthenticated">
       <h1>Squirrel</h1>
      <div id="authmessage" class="TX_text">Authenticating...</div>
      <div class="authfailed TX_text">Authentication failed. Refresh the browser to try again.</div>
      <div id="splash"><img id="splash" src="images/squirrel.svg" /></div>
    </div>
    <div id="authenticated">
      <span id="search_label" class="TX_text">Search:</span>
      <input id="search" value="" class="TX_title" title="Enter search string" />
      <button id="search_button" class="TX_title TX_text" title="Search" data-icon="ui-icon-squirrel-search"></button>

      <span id="search_hits"></span>
      <div id="signed_in">
        <span id="whoami"></span>
      </div>
      <button id="authenticated_extras" class="TX_title TX_text" title="Tools/Options" data-icon="ui-icon-squirrel-gear"></button>
      <div id="toolbar">
        <button id="authenticated_undo" class="TX_title TX_text" title="Undo last change" data-icon="ui-icon-squirrel-undo">Undo</button>
        <button id="authenticated_save" class="TX_text" data-icon="ui-icon-squirrel-save">Save</button>
      </div>
      <div id="sites-node">
        <div class="tree-title noselect">
          <button class="tree-open-close tree-open" data-icon="ui-icon-squirrel-folder-open"></button>
          <div class="tree-info">
            <span class="tree-key">Squirrel</span>
          </div>
        </div>
      </div>
    </div>

    <!--textarea id="pasteboard"></textarea-->

    <!-- Dialogs -->    
    <div id="extras" class="dlg-dialog TX_title" title="Extras">
      <div data-id="logo"></div>
      <p>
        <span class="TX_text">Autosave</span>
        <select data-id="autosave">
          <option value="off" class="TX_text">Off</option>
	  <option value="on" class="TX_text">On</option>
        </select>
      </p>
      <p>
        <button data-id="theme" class="TX_text">Change colour theme</button>
      </p>
      <p>
        <button data-id="chss" class="TX_text">Change cloud store settings</button>
      </p>
      <p>
        <button data-id="chpw" class="TX_text">Change master password</button>
      </p>
      <p>
        <button data-id="json" class="TX_text">View/Edit JSON</button>
      </p>
      <p>
        <button data-id="about" class="TX_text">About Squirrel</button>
      </p>
    </div>

    <div id="login" class="dlg-dialog TX_title" title="Enter the password for your safe">
      <p data-id="foruser"></p>
      <table width="100%">
        <tbody>
          <tr data-id="uReq">
	    <td class="TX_text">User:</td>
	    <td>
	      <input size="25" data-id="user" value="" class="TX_title" title="Enter username" />
	    </td>
          </tr>
          <tr data-id="pReq">
	    <td class="TX_text">Pass:</td>
	    <td>
	      <input type="password" size="25" data-id="pass" class="TX_title" title="Enter password" value="" />
	    </td>
          </tr>
        </tbody>
      </table>
      <p>
        <button data-id="signin" class="TX_text">Sign In</button>
      </p>
    </div>
    
    <div id="squeak" class="dlg-dialog TX_title" title="Alert">
      <p class="messages"></p>
      <button data-id="close" class="TX_text">OK</button>
    </div>
    
    <div id="randomise" class="dlg-dialog TX_title" title="Generate random value">
      <span class="TX_text">Suggested value for</span>
      '<span data-id="key"></span>': '<span data-id="idea" class="dlg-value"></span>'
      <p>
        <span class="TX_text">Length:</span>
        <input size="20" value="24" data-id="len" class="TX_title" title="Enter password length" />
      </p>
      <p>
        <span class="TX_text">Character range:</span>
        <input size="20" value="A-Za-z0-9" data-id="chs" class="TX_title" title="Enter the characters that are legal in passwords for this site. You can use character ranges like A-Z or 0-9" />
      </p>
      <div>
        <button data-id="use" class="TX_text">Use this</button>
        <button data-id="again" class="TX_text">Try again</button>
        <button data-id="remember" class="TX_text">Remember constraints</button>
        <button data-id="cancel" class="TX_text">Cancel</button>
      </div>
    </div>
    
    <div id="delete" class="dlg-dialog TX_title" title="Delete entry">
      <p>
        <span class="TX_text">Are you sure you want to delete</span> '<span data-id="path"></span>'
        <span data-id="coll" class="TX_text"> and everything under it?</span>
      </p>
      <div>
        <button data-id="cancel" class="TX_text">Cancel</button>
        <button data-id="ok" class="TX_text">Delete</button>
      </div>
    </div>
    
    <div id="chpw" class="dlg-dialog TX_title" title="Change Password">
      <p class="dlg-warning TX_text">
        You should ensure that all clients up to date and you
        are safely connected to the internet before doing this,
        or you will lose data. Changing the master password will
        overwrite all data in the cloud with what you can currently
        see in the browser.
      </p>
      <table>
        <tr>
          <td>
            <label for="chpw_pass" class="TX_text">New password</label>
          </td>
          <td>
            <input type="password" size="50" data-id="pass" class="TX_title" title="Enter new password" value="" />
          </td>
        </tr>
        <tr>
          <td>
            <label for="chpw_conf" class="TX_text">
              Confirm new password
            </label>
          </td>
          <td>
            <input type="password" size="50" data-id="conf" class="TX_title" title="Re-enter new password" value="" />
          </td>
        </tr>
      </table>
      <p>
        <input type="checkbox" data-id="show">
        <label for="chpw_show" class="TX_text">
          Show password
        </label>
      </p>
      <div>
        <button data-id="set" class="TX_title TX_text" title="Set new master password">Set new password</button>
      </div>
    </div>
    
    <div id="alarm" class="dlg-dialog TX_title" title="Reminder">
      <p>
        <span class="TX_text">Select when you want to be reminded about</span>
        <span data-id="path"></span>
      </p>
      <p class="TX_text">
        The reminder will be reset whenever the entry is modified.
      </p>
      <p>
        <label for="alarm_number" class="TX_text">Remind after</label>
        <input data-id="number" size="3" value="6" />
        <select data-id="units">
          <option value="d" class="TX_text">days</option>
          <option value="m" selected="selected" class="TX_text">months</option>
          <option value="y" class="TX_text">years</option>
        </select>
      </p>
      <p>
        <span class="TX_text">Reminder will be due in</span>
        <span data-id="next"></span>
        <span class="TX_text"> on </span>
        <span data-id="when"></span>
      </p>
      <div>
        <button data-id="set" class="TX_title TX_text" title="Set (or reset) reminder">Set reminder</button>
        <button data-id="clear" class="TX_title TX_text" title="Cancel reminder">Cancel reminder</button>
      </div>
    </div>
    
    <div id="insert" class="dlg-dialog TX_title" title="Insert copy">
      <p class="TX_text">Insert copy from clipboard</p>
      <p>
        <span class="TX_text">New name:</span>
        <input data-id="key" type="text" value="" />
      </p>
      <button data-id="ok" class="TX_text TX_title" title="Insert copy" >OK</button>
      <button data-id="cancel" class="TX_text TX_title" title="Cancel insert">Cancel</button>
    </div>
    
    <div id="add" class="dlg-dialog TX_title" title="Add">
      <p id ="add_help"></p>
      <table>
        <tbody>
          <tr>
            <td data-id="path"></td>
            <td>
              <input data-id="key" type="text" value="" />
            </td>
          </tr>
          <tr data-id="value_parts">
            <th class="TX-text">Value:</th>
            <td>
              <input data-id="value" type="text" value="" title="Enter value"/>
            </td>
          </tr>
      </table>
      <button data-id="ok" class="TX_text TX_title" title="Add new entry" >OK</button>
      <button data-id="cancel" class="TX_text TX_title" title="Cancel add">Cancel</button>
    </div>

    <div id="pick" class="dlg-dialog TX_title" title="Pick characters">
      <p class="TX_text">
        Click on the Nth character position to see what character it is
      </p>
      <table>
        <tbody>
          <tr data-id="which"></tr>
          <tr data-id="from"></tr>
        </tbody>
      </table>
      <p>
        <button data-id="clear" class="TX_text">Clear</button>
      </p>
    </div>

    <div id="theme" class="dlg-dialog TX_title" title="Theme">
      <p class="TX_text">
        Select your preferred colour theme. The theme will be remembered
        in cookies in this browser.
      </p>
      <select data-id="select">
        <option value="base">Base</option>
        <option value="ui-lightness">UI Lightness</option>
        <option value="ui-darkness">UI Darkness</option>
        <option value="smoothness">Smoothness</option>
        <option value="start">Start</option>
        <option value="redmond">Redmond</option>
        <option value="sunny">Sunny</option>
        <option value="overcast">Overcast</option>
        <option value="le-frog">Le Frog</option>
        <option value="flick">Flick</option>
        <option value="pepper-grinder">Pepper Grinder</option>
        <option value="eggplant">Eggplant</option>
        <option value="dark-hive">Dark Hive</option>
        <option value="cupertino">Cupertino</option>
        <option value="south-street">South Street</option>
        <option value="blitzer">Blitzer</option>
        <option value="humanity">Humanity</option>
        <option value="hot-sneaks">Hot Sneaks</option>
        <option value="excite-bike">Excite Bike</option>
        <option value="vader">Vader</option>
        <option value="dot-luv">Dot Luv</option>
        <option value="mint-choc">Mint Choc</option>
        <option value="black-tie">Black Tie</option>
        <option value="trontastic">Trontastic</option>
        <option value="swanky-purse">Swanky Purse</option>
      </select>
    </div>
    
    <div id="store_settings" class="dlg-dialog TX_title" title="Store settings">
      <p data-id="message"></p>
      <div class="using_steganography">
        <p class="TX_text help">Choose a local image that will be copied
          and used to hide your data in the cloud. This should be a complex
          colour image of at least 1024x768 pixels, preferably with variable
          transparency. Note that very large images may take a long time to
          load and save.</p>
        <input type="file" data-id="file" class="dlg-hidden" />
        <button data-id="choose_image" class="TX_title TX_text" title="Choose an image file">
          Choose Image File
        </button>
        <p><img id="stegamage" data-id="steg_image" src="images/GCHQ.png" /></p>
      </div>
      <p class="TX_text help">
        Set the pathname of the image on your cloud store. For example
        if you choose 'photos/stills/grandma.png' it will use the file
        'grandma.png' in the directory 'photos/stills'.
      </p>
      <p>
        <label for="store_settings_storepath" class="TX_text">Store path: </label>
        <input data-id="storepath" type="text" value="" class="TX_title" title="Pathname of the image in your cloud store"/>
      </p>
      <p>
        <button data-id="ok" class="TX_text">OK</button>
      </p>
    </div>
    
    <div id="about" class="dlg-dialog TX_title" title="About Squirrel">
      <p class="TX_text">
        Squirrel is Copyright &copy; 2015-2017 Crawford Currie <a href="http://c-dot.co.uk">http://c-dot.co.uk</a>
      </p>
      <p class="TX_text">
        Licensed under the MIT License. Reuse within proprietary software is
        permitted provided all copies of the licensed software include a
        copy of the MIT License terms and the copyright notice.
      </p>
    </div>
    
    <div id="json" class="dlg-dialog TX_title" title="Database JSON">
      <textarea data-id="text">
      </textarea>
      <div>
        <button data-id="ok" class="TX_text">Reload this JSON</button>
      </div>
    </div>
  </body>
</html>
