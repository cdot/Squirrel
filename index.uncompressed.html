<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <script type="text/javascript" src="jquery-2.1.3.min.js"></script>
    <script type="text/javascript" src="jquery-ui.min.js"></script>
    <script type="text/javascript" src="jquery-bonsai.min.js"></script>
    <script type="text/javascript" src="loading-overlay.min.js"></script>
    <script type="text/javascript" src="AES.min.js"></script>
    <script type="text/javascript" src="AbstractStore.uncompressed.js"></script>
    <script type="text/javascript" src="FileStore.uncompressed.js"></script>
    <script type="text/javascript" src="GoogleDriveStore.uncompressed.js"></script>
    <script type="text/javascript" src="LocalStorageStore.uncompressed.js"></script>
    <script type="text/javascript" src="EncryptedStore.uncompressed.js"></script>
    <script type="text/javascript" src="Hoard.uncompressed.js"></script>
    <script type="text/javascript" src="Squirrel.uncompressed.js"></script>
    <script type="text/javascript" src="https://apis.google.com/js/client.js?onload=gapi_loaded"></script>
    <link rel="stylesheet" href="jquery-ui.min.css">
    <link rel="stylesheet" href="jquery-bonsai.min.css">
    <link rel="stylesheet" href="Squirrel.uncompressed.css">
  </head>
  <body>
    <img class="logo" src="images/squirrel.png">
    <div class="unauthenticated">
      <div class="intro">
        <h1>Welcome to Squirrel</h1>
	<h2> Enter your details to log in or register</h2>
      </div>
      <div id="authenticate">
        <table>
	  <tbody>
	    <tr>
	      <td>Username:</td>
	      <td>
		<input size="50" id="user" value="" title="Enter username" />
	      </td>
	    </tr>
            <tr>
	      <td>Password:</td>
	      <td>
		<input type="password" size="50" id="password" value="" title="Enter password" />
	      </td>
	    </tr>
	    <tr>
	      <td colspan="2" align="center">
		<button id="log_in">Log in</button>
	      </td>
	    </tr>
	  </tbody>
	</table>
      </div>
    </div>

    <div class="authenticated" style="display:none">
      Search: <input id="search" value="" title="Enter search string" />
      <div id="search_results"></div>
      <ul id="tree">
      </ul>
      <button id="log_out">Log out</button>
      <button id="add_root_child">Add new group</button>
      <button id="load_local">Load from local file</button>
    </div>

    <!-- Dialogs -->
    <div id="dlg_register" class="dialog" title="Register">
      You are not registered in this browser<span class="message"></span>
    </div>

    <div id="dlg_confirm_pass" class="dialog" title="Confirm password">
      <div id="password_mismatch" class="message" style="display:none">
        The passwords you entered do not match<br />
        <button id="show_password">Show passwords</button>
        <div id="passwords" class="message" style="display:none">
        </div>
      </div>
      Registering you with username '<span id="userid"></span>'<br />
      Re-enter your password to confirm it<br />
      <input type="password" size="30" id="confirm_password" value="" title="Enter password" />
    </div>

    <div id="dlg_local_load" class="dialog" title="Load local file">
      <p>
      The file must be in change stream format.
      </p>
      <input type="file" id="local_file_pick" title="Select file" value="aes.txt" />
    </div>

    <div id="init_store" class="dialog" title="Init local file store">
      <input type="file" id="init_store_pick" title="Select file" value="store.test" />
    </div>

    <div id="dlg_confirm_delete" class="dialog" title="Delete entry">
      Are you sure you want to delete '<span class="message"></span>'
      <span class="is_collection"> and everything under it?</span>
    </div>
    
    <div id="dlg_add_node" class="dialog" title="Add child node">
      Select type of child node to add
    </div>

    <!-- Translatable strings TODO: move to translation module -->
    <div id="strings" style="display:none">
      <span class="yes_button">Yes</span>
      <span class="no_button">No</span>
      <span class="cancel_button">Cancel</span>
      <span class="confirm_button">Confirm</span>
      <span class="loading_string">Loading...</span>
      <span class="login_string">Logging in...</span>
      <span class="errload_ddb">Error loading Cloud DB: </span>
      <span class="errsync_ddb">Cannot sync: </span>
      <span class="nuts_in_cloud">, but I can see that you have an
        existing hoard of nuts in the Cloud store. Do you want to use it?</span>
      <span class="not_in_cloud">, and I can't see any existing
        hoard of nuts in the Cloud. Do you want to register in this
        browser? A copy of your hoard will automatically be created in the
        Cloud.</span>
      <span class="cant_connect"> and I can't connect to the Cloud
        store to check whether you have any nuts there or not. Do you want to
        continue and create a local hoard? It will be automatically synced
        with the Cloud if and when we are able to make contact with
        it.</span>
      <span class="mismatch_with_cloud"> and the password you entered
        does not match what I can see in the Cloud.
        This might be because you are logged in to the Cloud as somebody
        else, or you might have mistyped your password.
        Do you can continue to register with this password?  A copy of your
        new hoard will automatically be created in the Cloud.</span>
      <span class="lastmod_string">Double-click to edit. Last modified: </span>
    </div>
  </body>
</html>
