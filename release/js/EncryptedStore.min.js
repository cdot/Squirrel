/*@preserve Copyright (C) 2015 Crawford Currie http://c-dot.co.uk license MIT*/
function EncryptedStore(e){"use strict";LayeredStore.call(this,e)}EncryptedStore.prototype=Object.create(LayeredStore.prototype),EncryptedStore.prototype.options=function(){"use strict";return $.extend(LayeredStore.prototype.options.call(this),{needs_pass:!0})},EncryptedStore.prototype.read=function(e,t,r){"use strict";var n=this;DEBUG&&console.debug("EncryptedStore: reading "+e+" with password "+n.engine.pass()),this.engine.read(e,function(e){var o;try{DEBUG&&console.debug("EncryptedStore: decrypting using password "+n.engine.pass()),o=AES.decrypt(e,n.engine.pass(),256)}catch(e){return DEBUG&&console.debug("Caught "+e),void r.call(n,e)}t.call(n,o.buffer)},r)},EncryptedStore.prototype.write=function(e,t,r,n){"use strict";var o=this;DEBUG&&console.debug("EncryptedStore: writing "+e+" with password "+o.engine.pass());var s;try{s=AES.encrypt(t,this.engine.pass(),256)}catch(e){return DEBUG&&console.debug("Caught "+e),void n.call(this,e)}this.engine.write(e,s.buffer,function(){r.call(o)},n)};
//# sourceMappingURL=release/EncryptedStore.map