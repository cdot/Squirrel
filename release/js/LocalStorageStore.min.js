/*@preserve Copyright (C) 2015 Crawford Currie http://c-dot.co.uk license MIT*/
function LocalStorageStore(t){"use strict";if(t.user)this.user(t.user);else{for(var e,r=0,o=null;null!=(e=localStorage.key(r));){var a=/^Squirrel\.(.*)$/.exec(e);if(a){if(o){o=null;break}o=a[1]}r++}o&&(DEBUG&&console.debug("LocalStorageStore: Identified possible user "+o),this.user(o))}AbstractStore.call(this,t)}LocalStorageStore.prototype=Object.create(AbstractStore.prototype),LocalStorageStore.prototype.options=function(){"use strict";return $.extend(AbstractStore.prototype.options(),{needs_path:!0,identifier:"browser"})},LocalStorageStore.prototype.read=function(t,e,r){"use strict";var o;DEBUG&&console.debug("LocalStorageStore: Reading "+t);try{o=localStorage.getItem(t)}catch(t){return DEBUG&&console.debug("Caught "+t),void r.call(this,t)}if(null===o)r.call(this,AbstractStore.NODATA);else{var a=Utils.PackedStringToArrayBuffer(o);e.call(this,a)}},LocalStorageStore.prototype.write=function(t,e,r,o){"use strict";DEBUG&&console.debug("LocalStorageStore: Writing "+t);try{var a=Utils.ArrayBufferToPackedString(e);localStorage.setItem(t,a)}catch(t){return DEBUG&&console.debug("Caught "+t),void o.call(this,t)}r.call(this)};
//# sourceMappingURL=release/LocalStorageStore.map