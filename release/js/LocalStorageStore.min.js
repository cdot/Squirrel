/*@preserve Copyright (C) 2015 Crawford Currie http://c-dot.co.uk license MIT*/
function LocalStorageStore(t){"use strict";if(t.user)this.user(t.user);else{for(var r,e=0,o=null;null!=(r=localStorage.key(e));){var a=/^Squirrel\.(.*)$/.exec(r);if(a){if(o){o=null;break}o=a[1]}e++}o&&this.user(o)}AbstractStore.call(this,t)}LocalStorageStore.prototype=Object.create(AbstractStore.prototype),LocalStorageStore.prototype.options=function(){"use strict";return $.extend(AbstractStore.prototype.options(),{needs_path:!0,identifier:"browser"})},LocalStorageStore.prototype.read=function(t,r,e){"use strict";var o;try{o=localStorage.getItem(t)}catch(t){return void e.call(this,t)}if(null===o)e.call(this,AbstractStore.NODATA);else{var a=Utils.PackedStringToArrayBuffer(o);r.call(this,a)}},LocalStorageStore.prototype.write=function(t,r,e,o){"use strict";try{var a=Utils.ArrayBufferToPackedString(r);localStorage.setItem(t,a)}catch(t){return void o.call(this,t)}e.call(this)};