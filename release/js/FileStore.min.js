/*@preserve Copyright (C) 2017 Crawford Currie http://c-dot.co.uk license MIT*/
"use strict";function FileStore(t){t.user&&this.user(t.user),AbstractStore.call(this,t)}var Fs=require("fs"),AbstractStore=require("./AbstractStore");FileStore.prototype=Object.create(AbstractStore.prototype),FileStore.prototype.options=function(){var t={},e=AbstractStore.prototype.options();for(var r in e)t[r]=e[r];return t.needs_path=!0,t.identifier="file",t},FileStore.prototype.read=function(t,e,r){var o=this;Fs.readFile(t,function(t,i){t?r.call(o,t):null===i?r.call(o,AbstractStore.NODATA):e.call(o,i)})},FileStore.prototype.write=function(t,e,r,o){var i=this;Fs.writeFile(t,Buffer.from(e),function(t){t?o.call(i,t):r.call(i)})},module.exports=FileStore;