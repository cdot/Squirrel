{"version":3,"sources":["libs/ZeroClipboard.js"],"names":["window","undefined","_zcSwfVersion","_currentElement","_copyTarget","_window","_document","document","_navigator","navigator","_setTimeout","setTimeout","_clearTimeout","clearTimeout","_setInterval","setInterval","_clearInterval","clearInterval","_getComputedStyle","getComputedStyle","_encodeURIComponent","encodeURIComponent","_ActiveXObject","ActiveXObject","_Error","Error","_parseInt","Number","parseInt","_parseFloat","parseFloat","_isNaN","isNaN","_now","Date","now","_keys","Object","keys","_hasOwn","prototype","hasOwnProperty","_slice","Array","slice","_unwrap","unwrapper","el","wrap","unwrap","div","createElement","unwrappedDiv","nodeType","e","_args","argumentsObj","call","_extend","i","len","arg","prop","copy","args","arguments","target","length","_deepCopy","source","_pick","obj","newObj","_omit","indexOf","_deleteOwnProperties","_containedBy","ancestorEl","ownerDocument","parentNode","_getDirPathOfUrl","url","dir","split","lastIndexOf","_getCurrentScriptUrlFromErrorStack","stack","matches","match","_getCurrentScriptUrlFromError","err","sourceURL","fileName","_getCurrentScriptUrl","jsPath","scripts","currentScript","src","getElementsByTagName","readyState","_getUnanimousScriptParentDir","jsDir","_isWindows","isWindowsRegex","test","appVersion","platform","userAgent","_pageIsFramed","opener","top","parent","_pageIsXhtml","documentElement","nodeName","_flashState","bridge","version","pluginType","sandboxed","disabled","outdated","insecure","unavailable","degraded","deactivated","overdue","ready","_handlers","_clipData","_clipDataFormatMap","_flashCheckTimeout","_swfFallbackCheckInterval","_eventMessages","error","flash-sandboxed","flash-disabled","flash-outdated","flash-insecure","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue","version-mismatch","clipboard-error","config-mismatch","swf-not-found","browser-unsupported","_errorsThatOnlyOccurAfterFlashLoads","_flashStateErrorNames","_flashStateErrorNameMatchingRegex","RegExp","map","errorName","replace","join","_flashStateEnabledErrorNameMatchingRegex","filter","_globalConfig","swfPath","trustedDomains","location","host","cacheBust","forceEnhancedClipboard","flashLoadTimeout","autoActivate","bubbleEvents","fixLineEndings","containerId","containerClass","swfObjectId","hoverClass","activeClass","forceHandCursor","title","zIndex","_config","options","forEach","_isValidHtml4Id","_state","_detectSandbox","browser","isSupported","_isBrowserSupported","flash","zeroclipboard","ZeroClipboard","config","addEventListener","_isFlashUnusable","_on","eventType","listener","events","added","toLowerCase","key","on","push","emit","type","name","jsVersion","swfVersion","_off","foundIndex","perEventHandlers","off","splice","_listeners","_emit","event","eventCopy","returnVal","tmp","_createEvent","_preprocessEvent","_dispatchCallbacks","this","_mapClipDataToFlash","data","formatMap","_getSwfPathProtocol","swfPathFirstTwoChars","swfProtocol","protocol","_create","maxWait","previousState","isFlashUnusable","_embedSwf","_destroy","clearData","blur","_unembedSwf","_setData","format","dataObj","dataFormat","_fixLineEndings","_clearData","_getData","_focus","element","_removeClass","_addClass","newTitle","getAttribute","htmlBridge","_getHtmlBridge","setAttribute","useHandCursor","_getStyle","_setHandCursor","_reposition","_blur","removeAttribute","style","left","width","height","_activeElement","id","relatedTarget","currentTarget","timeStamp","msg","message","minimumVersion","pageProtocol","clipboardData","setData","_mapClipResultsFromFlash","_getRelatedTarget","_addMouseData","targetEl","relatedTargetId","getElementById","srcElement","fromElement","toElement","pos","_getElementPosition","screenLeft","screenX","screenTop","screenY","scrollLeft","body","scrollTop","pageX","_stageX","pageY","_stageY","clientX","clientY","moveX","movementX","moveY","movementY","x","y","offsetX","offsetY","layerX","layerY","_shouldPerformAsync","_dispatchCallback","func","context","async","apply","wildcardTypeHandlers","specificTypeHandlers","handlers","concat","originalContext","handleEvent","_getSandboxStatusFromErrorEvent","isSandboxed","sourceIsSwf","_source","_clearTimeoutsAndPolling","wasDeactivated","textContent","htmlContent","value","outerHTML","innerHTML","innerText","_queueEmitClipboardErrors","_safeActiveElement","focus","_fireMouseEvent","bubbles","cancelable","aftercopyEvent","errors","errorEvent","success","doc","defaults","view","defaultView","canBubble","detail","button","which","createEvent","dispatchEvent","ctrlKey","altKey","shiftKey","metaKey","initMouseEvent","_watchForSwfFallbackContent","pollWait","Math","min","fallbackContentId","_isElementVisible","_createHtmlBridge","container","className","position","_getSafeZIndex","flashBridge","_escapeXmlValue","val","chr","allowScriptAccess","_determineScriptAccess","allowNetworking","flashvars","_vars","swfUrl","_cacheBust","divToBeReplaced","appendChild","tmpDiv","usingActiveX","firstChild","replaceChild","display","removeSwfFromIE","removeChild","clipData","newClipData","text","html","rtf","clipResults","newResults","tmpHash","path","domain","domains","str","trustedOriginsExpanded","_extractDomain","originOrUrl","protocolIndex","pathIndex","_extractAllDomains","origins","resultsArray","currentDomain","configOptions","swfDomain","activeElement","c","cl","classNames","getPropertyValue","getBoundingClientRect","elRect","pageXOffset","pageYOffset","leftBorderWidth","clientLeft","topBorderWidth","clientTop","leftBodyOffset","topBodyOffset","bodyRect","htmlRect","right","bottom","styles","hasCssHeight","hasCssWidth","hasCssTop","hasCssLeft","cssKnows","rect","visibility","enabled","setHandCursor","content","replaceRegex","doNotReassessFlashSupport","effectiveScriptOrigin","frame","frameError","frameElement","hasAttribute","_detectFlashSupport","parseFlashVersion","desc","isPepperFlash","flashPlayerFileName","inspectPlugin","plugin","hasFlash","flashVersion","description","filename","isPPAPI","ax","mimeType","isActiveX","plugins","mimeTypes","enabledPlugin","GetVariable","e1","e2","e3","_createClient","state","create","destroy","getData","activate","deactivate","_clientIdCounter","_clientMeta","_elementIdCounter","_elementMeta","_mouseHandlers","_clientConstructor","elements","meta","client","instance","coreWildcardHandler","clip","_clientOn","_clientOff","_clientListeners","_clientEmit","_clientShouldEmit","_clientDispatchCallbacks","_clientClip","_prepClip","zcClippingId","_addMouseHandlers","clippedElements","_clientUnclip","arrayIndex","clientIds","_removeMouseHandlers","_clientElements","_clientDestroy","unclip","clippedEls","hasClippedEls","goodTarget","goodRelTarget","goodClient","_suppressMouseEvents","stopImmediatePropagation","preventDefault","_elementMouseOver","mouseover","mouseout","mouseenter","mouseleave","mousemove","mouseHandlers","mouseEvents","removeEventListener","setText","setHtml","setRichText","richText","define","amd","module","exports"],"mappings":"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","file":"libs/ZeroClipboard.min.js","sourcesContent":["/*!\n * ZeroClipboard\n * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface\n * Copyright (c) 2009-2016 Jon Rohan, James M. Greene\n * Licensed MIT\n * http://zeroclipboard.org/\n * v2.3.0\n */\n(function(window, undefined) {\n  \"use strict\";\n  /**\n * Store references to critically important global functions that may be\n * overridden on certain web pages.\n */\n  var _window = window, _document = _window.document, _navigator = _window.navigator, _setTimeout = _window.setTimeout, _clearTimeout = _window.clearTimeout, _setInterval = _window.setInterval, _clearInterval = _window.clearInterval, _getComputedStyle = _window.getComputedStyle, _encodeURIComponent = _window.encodeURIComponent, _ActiveXObject = _window.ActiveXObject, _Error = _window.Error, _parseInt = _window.Number.parseInt || _window.parseInt, _parseFloat = _window.Number.parseFloat || _window.parseFloat, _isNaN = _window.Number.isNaN || _window.isNaN, _now = _window.Date.now, _keys = _window.Object.keys, _hasOwn = _window.Object.prototype.hasOwnProperty, _slice = _window.Array.prototype.slice, _unwrap = function() {\n    var unwrapper = function(el) {\n      return el;\n    };\n    if (typeof _window.wrap === \"function\" && typeof _window.unwrap === \"function\") {\n      try {\n        var div = _document.createElement(\"div\");\n        var unwrappedDiv = _window.unwrap(div);\n        if (div.nodeType === 1 && unwrappedDiv && unwrappedDiv.nodeType === 1) {\n          unwrapper = _window.unwrap;\n        }\n      } catch (e) {}\n    }\n    return unwrapper;\n  }();\n  /**\n * Convert an `arguments` object into an Array.\n *\n * @returns The arguments as an Array\n * @private\n */\n  var _args = function(argumentsObj) {\n    return _slice.call(argumentsObj, 0);\n  };\n  /**\n * Shallow-copy the owned, enumerable properties of one object over to another, similar to jQuery's `$.extend`.\n *\n * @returns The target object, augmented\n * @private\n */\n  var _extend = function() {\n    var i, len, arg, prop, src, copy, args = _args(arguments), target = args[0] || {};\n    for (i = 1, len = args.length; i < len; i++) {\n      if ((arg = args[i]) != null) {\n        for (prop in arg) {\n          if (_hasOwn.call(arg, prop)) {\n            src = target[prop];\n            copy = arg[prop];\n            if (target !== copy && copy !== undefined) {\n              target[prop] = copy;\n            }\n          }\n        }\n      }\n    }\n    return target;\n  };\n  /**\n * Return a deep copy of the source object or array.\n *\n * @returns Object or Array\n * @private\n */\n  var _deepCopy = function(source) {\n    var copy, i, len, prop;\n    if (typeof source !== \"object\" || source == null || typeof source.nodeType === \"number\") {\n      copy = source;\n    } else if (typeof source.length === \"number\") {\n      copy = [];\n      for (i = 0, len = source.length; i < len; i++) {\n        if (_hasOwn.call(source, i)) {\n          copy[i] = _deepCopy(source[i]);\n        }\n      }\n    } else {\n      copy = {};\n      for (prop in source) {\n        if (_hasOwn.call(source, prop)) {\n          copy[prop] = _deepCopy(source[prop]);\n        }\n      }\n    }\n    return copy;\n  };\n  /**\n * Makes a shallow copy of `obj` (like `_extend`) but filters its properties based on a list of `keys` to keep.\n * The inverse of `_omit`, mostly. The big difference is that these properties do NOT need to be enumerable to\n * be kept.\n *\n * @returns A new filtered object.\n * @private\n */\n  var _pick = function(obj, keys) {\n    var newObj = {};\n    for (var i = 0, len = keys.length; i < len; i++) {\n      if (keys[i] in obj) {\n        newObj[keys[i]] = obj[keys[i]];\n      }\n    }\n    return newObj;\n  };\n  /**\n * Makes a shallow copy of `obj` (like `_extend`) but filters its properties based on a list of `keys` to omit.\n * The inverse of `_pick`.\n *\n * @returns A new filtered object.\n * @private\n */\n  var _omit = function(obj, keys) {\n    var newObj = {};\n    for (var prop in obj) {\n      if (keys.indexOf(prop) === -1) {\n        newObj[prop] = obj[prop];\n      }\n    }\n    return newObj;\n  };\n  /**\n * Remove all owned, enumerable properties from an object.\n *\n * @returns The original object without its owned, enumerable properties.\n * @private\n */\n  var _deleteOwnProperties = function(obj) {\n    if (obj) {\n      for (var prop in obj) {\n        if (_hasOwn.call(obj, prop)) {\n          delete obj[prop];\n        }\n      }\n    }\n    return obj;\n  };\n  /**\n * Determine if an element is contained within another element.\n *\n * @returns Boolean\n * @private\n */\n  var _containedBy = function(el, ancestorEl) {\n    if (el && el.nodeType === 1 && el.ownerDocument && ancestorEl && (ancestorEl.nodeType === 1 && ancestorEl.ownerDocument && ancestorEl.ownerDocument === el.ownerDocument || ancestorEl.nodeType === 9 && !ancestorEl.ownerDocument && ancestorEl === el.ownerDocument)) {\n      do {\n        if (el === ancestorEl) {\n          return true;\n        }\n        el = el.parentNode;\n      } while (el);\n    }\n    return false;\n  };\n  /**\n * Get the URL path's parent directory.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getDirPathOfUrl = function(url) {\n    var dir;\n    if (typeof url === \"string\" && url) {\n      dir = url.split(\"#\")[0].split(\"?\")[0];\n      dir = url.slice(0, url.lastIndexOf(\"/\") + 1);\n    }\n    return dir;\n  };\n  /**\n * Get the current script's URL by throwing an `Error` and analyzing it.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getCurrentScriptUrlFromErrorStack = function(stack) {\n    var url, matches;\n    if (typeof stack === \"string\" && stack) {\n      matches = stack.match(/^(?:|[^:@]*@|.+\\)@(?=http[s]?|file)|.+?\\s+(?: at |@)(?:[^:\\(]+ )*[\\(]?)((?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/);\n      if (matches && matches[1]) {\n        url = matches[1];\n      } else {\n        matches = stack.match(/\\)@((?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/);\n        if (matches && matches[1]) {\n          url = matches[1];\n        }\n      }\n    }\n    return url;\n  };\n  /**\n * Get the current script's URL by throwing an `Error` and analyzing it.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getCurrentScriptUrlFromError = function() {\n    var url, err;\n    try {\n      throw new _Error();\n    } catch (e) {\n      err = e;\n    }\n    if (err) {\n      url = err.sourceURL || err.fileName || _getCurrentScriptUrlFromErrorStack(err.stack);\n    }\n    return url;\n  };\n  /**\n * Get the current script's URL.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getCurrentScriptUrl = function() {\n    var jsPath, scripts, i;\n    if (_document.currentScript && (jsPath = _document.currentScript.src)) {\n      return jsPath;\n    }\n    scripts = _document.getElementsByTagName(\"script\");\n    if (scripts.length === 1) {\n      return scripts[0].src || undefined;\n    }\n    if (\"readyState\" in (scripts[0] || document.createElement(\"script\"))) {\n      for (i = scripts.length; i--; ) {\n        if (scripts[i].readyState === \"interactive\" && (jsPath = scripts[i].src)) {\n          return jsPath;\n        }\n      }\n    }\n    if (_document.readyState === \"loading\" && (jsPath = scripts[scripts.length - 1].src)) {\n      return jsPath;\n    }\n    if (jsPath = _getCurrentScriptUrlFromError()) {\n      return jsPath;\n    }\n    return undefined;\n  };\n  /**\n * Get the unanimous parent directory of ALL script tags.\n * If any script tags are either (a) inline or (b) from differing parent\n * directories, this method must return `undefined`.\n *\n * @returns String or `undefined`\n * @private\n */\n  var _getUnanimousScriptParentDir = function() {\n    var i, jsDir, jsPath, scripts = _document.getElementsByTagName(\"script\");\n    for (i = scripts.length; i--; ) {\n      if (!(jsPath = scripts[i].src)) {\n        jsDir = null;\n        break;\n      }\n      jsPath = _getDirPathOfUrl(jsPath);\n      if (jsDir == null) {\n        jsDir = jsPath;\n      } else if (jsDir !== jsPath) {\n        jsDir = null;\n        break;\n      }\n    }\n    return jsDir || undefined;\n  };\n  /**\n * Get the presumed location of the \"ZeroClipboard.swf\" file, based on the location\n * of the executing JavaScript file (e.g. \"ZeroClipboard.js\", etc.).\n *\n * @returns String\n * @private\n */\n  var _getDefaultSwfPath = function() {\n    var jsDir = _getDirPathOfUrl(_getCurrentScriptUrl()) || _getUnanimousScriptParentDir() || \"\";\n    return jsDir + \"ZeroClipboard.swf\";\n  };\n  /**\n * Is the client's operating system some version of Windows?\n *\n * @returns Boolean\n * @private\n */\n  var _isWindows = function() {\n    var isWindowsRegex = /win(dows|[\\s]?(nt|me|ce|xp|vista|[\\d]+))/i;\n    return !!_navigator && (isWindowsRegex.test(_navigator.appVersion || \"\") || isWindowsRegex.test(_navigator.platform || \"\") || (_navigator.userAgent || \"\").indexOf(\"Windows\") !== -1);\n  };\n  /**\n * Keep track of if the page is framed (in an `iframe`). This can never change.\n * @private\n */\n  var _pageIsFramed = function() {\n    return _window.opener == null && (!!_window.top && _window != _window.top || !!_window.parent && _window != _window.parent);\n  }();\n  /**\n * Keep track of if the page is XHTML (vs. HTML), which requires that everything\n * be rendering in XML mode.\n * @private\n */\n  var _pageIsXhtml = _document.documentElement.nodeName === \"html\";\n  /**\n * Keep track of the state of the Flash object.\n * @private\n */\n  var _flashState = {\n    bridge: null,\n    version: \"0.0.0\",\n    pluginType: \"unknown\",\n    sandboxed: null,\n    disabled: null,\n    outdated: null,\n    insecure: null,\n    unavailable: null,\n    degraded: null,\n    deactivated: null,\n    overdue: null,\n    ready: null\n  };\n  /**\n * The minimum Flash Player version required to use ZeroClipboard completely.\n * @readonly\n * @private\n */\n  var _minimumFlashVersion = \"11.0.0\";\n  /**\n * The ZeroClipboard library version number, as reported by Flash, at the time the SWF was compiled.\n */\n  var _zcSwfVersion;\n  /**\n * Keep track of all event listener registrations.\n * @private\n */\n  var _handlers = {};\n  /**\n * Keep track of the currently activated element.\n * @private\n */\n  var _currentElement;\n  /**\n * Keep track of the element that was activated when a `copy` process started.\n * @private\n */\n  var _copyTarget;\n  /**\n * Keep track of data for the pending clipboard transaction.\n * @private\n */\n  var _clipData = {};\n  /**\n * Keep track of data formats for the pending clipboard transaction.\n * @private\n */\n  var _clipDataFormatMap = null;\n  /**\n * Keep track of the Flash availability check timeout.\n * @private\n */\n  var _flashCheckTimeout = 0;\n  /**\n * Keep track of SWF network errors interval polling.\n * @private\n */\n  var _swfFallbackCheckInterval = 0;\n  /**\n * The `message` store for events\n * @private\n */\n  var _eventMessages = {\n    ready: \"Flash communication is established\",\n    error: {\n      \"flash-sandboxed\": \"Attempting to run Flash in a sandboxed iframe, which is impossible\",\n      \"flash-disabled\": \"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.\",\n      \"flash-outdated\": \"Flash is too outdated to support ZeroClipboard\",\n      \"flash-insecure\": \"Flash will be unable to communicate due to a protocol mismatch between your `swfPath` configuration and the page\",\n      \"flash-unavailable\": \"Flash is unable to communicate bidirectionally with JavaScript\",\n      \"flash-degraded\": \"Flash is unable to preserve data fidelity when communicating with JavaScript\",\n      \"flash-deactivated\": \"Flash is too outdated for your browser and/or is configured as click-to-activate.\\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.\",\n      \"flash-overdue\": \"Flash communication was established but NOT within the acceptable time limit\",\n      \"version-mismatch\": \"ZeroClipboard JS version number does not match ZeroClipboard SWF version number\",\n      \"clipboard-error\": \"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard\",\n      \"config-mismatch\": \"ZeroClipboard configuration does not match Flash's reality\",\n      \"swf-not-found\": \"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity\",\n      \"browser-unsupported\": \"The browser does not support the required HTML DOM and JavaScript features\"\n    }\n  };\n  /**\n * The `name`s of `error` events that can only occur is Flash has at least\n * been able to load the SWF successfully.\n * @private\n */\n  var _errorsThatOnlyOccurAfterFlashLoads = [ \"flash-unavailable\", \"flash-degraded\", \"flash-overdue\", \"version-mismatch\", \"config-mismatch\", \"clipboard-error\" ];\n  /**\n * The `name`s of `error` events that should likely result in the `_flashState`\n * variable's property values being updated.\n * @private\n */\n  var _flashStateErrorNames = [ \"flash-sandboxed\", \"flash-disabled\", \"flash-outdated\", \"flash-insecure\", \"flash-unavailable\", \"flash-degraded\", \"flash-deactivated\", \"flash-overdue\" ];\n  /**\n * A RegExp to match the `name` property of `error` events related to Flash.\n * @private\n */\n  var _flashStateErrorNameMatchingRegex = new RegExp(\"^flash-(\" + _flashStateErrorNames.map(function(errorName) {\n    return errorName.replace(/^flash-/, \"\");\n  }).join(\"|\") + \")$\");\n  /**\n * A RegExp to match the `name` property of `error` events related to Flash,\n * which is enabled.\n * @private\n */\n  var _flashStateEnabledErrorNameMatchingRegex = new RegExp(\"^flash-(\" + _flashStateErrorNames.filter(function(errorName) {\n    return errorName !== \"flash-disabled\";\n  }).map(function(errorName) {\n    return errorName.replace(/^flash-/, \"\");\n  }).join(\"|\") + \")$\");\n  /**\n * ZeroClipboard configuration defaults for the Core module.\n * @private\n */\n  var _globalConfig = {\n    swfPath: _getDefaultSwfPath(),\n    trustedDomains: _window.location.host ? [ _window.location.host ] : [],\n    cacheBust: true,\n    forceEnhancedClipboard: false,\n    flashLoadTimeout: 3e4,\n    autoActivate: true,\n    bubbleEvents: true,\n    fixLineEndings: true,\n    containerId: \"global-zeroclipboard-html-bridge\",\n    containerClass: \"global-zeroclipboard-container\",\n    swfObjectId: \"global-zeroclipboard-flash-bridge\",\n    hoverClass: \"zeroclipboard-is-hover\",\n    activeClass: \"zeroclipboard-is-active\",\n    forceHandCursor: false,\n    title: null,\n    zIndex: 999999999\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.config`.\n * @private\n */\n  var _config = function(options) {\n    if (typeof options === \"object\" && options && !(\"length\" in options)) {\n      _keys(options).forEach(function(prop) {\n        if (/^(?:forceHandCursor|title|zIndex|bubbleEvents|fixLineEndings)$/.test(prop)) {\n          _globalConfig[prop] = options[prop];\n        } else if (_flashState.bridge == null) {\n          if (prop === \"containerId\" || prop === \"swfObjectId\") {\n            if (_isValidHtml4Id(options[prop])) {\n              _globalConfig[prop] = options[prop];\n            } else {\n              throw new Error(\"The specified `\" + prop + \"` value is not valid as an HTML4 Element ID\");\n            }\n          } else {\n            _globalConfig[prop] = options[prop];\n          }\n        }\n      });\n    }\n    if (typeof options === \"string\" && options) {\n      if (_hasOwn.call(_globalConfig, options)) {\n        return _globalConfig[options];\n      }\n      return;\n    }\n    return _deepCopy(_globalConfig);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.state`.\n * @private\n */\n  var _state = function() {\n    _detectSandbox();\n    return {\n      browser: _extend(_pick(_navigator, [ \"userAgent\", \"platform\", \"appName\", \"appVersion\" ]), {\n        isSupported: _isBrowserSupported()\n      }),\n      flash: _omit(_flashState, [ \"bridge\" ]),\n      zeroclipboard: {\n        version: ZeroClipboard.version,\n        config: ZeroClipboard.config()\n      }\n    };\n  };\n  /**\n * Does this browser support all of the necessary DOM and JS features necessary?\n * @private\n */\n  var _isBrowserSupported = function() {\n    return !!(_document.addEventListener && _window.Object.keys && _window.Array.prototype.map);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.isFlashUnusable`.\n * @private\n */\n  var _isFlashUnusable = function() {\n    return !!(_flashState.sandboxed || _flashState.disabled || _flashState.outdated || _flashState.unavailable || _flashState.degraded || _flashState.deactivated);\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.on`.\n * @private\n */\n  var _on = function(eventType, listener) {\n    var i, len, events, added = {};\n    if (typeof eventType === \"string\" && eventType) {\n      events = eventType.toLowerCase().split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && !(\"length\" in eventType) && typeof listener === \"undefined\") {\n      _keys(eventType).forEach(function(key) {\n        var listener = eventType[key];\n        if (typeof listener === \"function\") {\n          ZeroClipboard.on(key, listener);\n        }\n      });\n    }\n    if (events && events.length && listener) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].replace(/^on/, \"\");\n        added[eventType] = true;\n        if (!_handlers[eventType]) {\n          _handlers[eventType] = [];\n        }\n        _handlers[eventType].push(listener);\n      }\n      if (added.ready && _flashState.ready) {\n        ZeroClipboard.emit({\n          type: \"ready\"\n        });\n      }\n      if (added.error) {\n        if (!_isBrowserSupported()) {\n          ZeroClipboard.emit({\n            type: \"error\",\n            name: \"browser-unsupported\"\n          });\n        }\n        for (i = 0, len = _flashStateErrorNames.length; i < len; i++) {\n          if (_flashState[_flashStateErrorNames[i].replace(/^flash-/, \"\")] === true) {\n            ZeroClipboard.emit({\n              type: \"error\",\n              name: _flashStateErrorNames[i]\n            });\n            break;\n          }\n        }\n        if (_zcSwfVersion !== undefined && ZeroClipboard.version !== _zcSwfVersion) {\n          ZeroClipboard.emit({\n            type: \"error\",\n            name: \"version-mismatch\",\n            jsVersion: ZeroClipboard.version,\n            swfVersion: _zcSwfVersion\n          });\n        }\n      }\n    }\n    return ZeroClipboard;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.off`.\n * @private\n */\n  var _off = function(eventType, listener) {\n    var i, len, foundIndex, events, perEventHandlers;\n    if (arguments.length === 0) {\n      events = _keys(_handlers);\n    } else if (typeof eventType === \"string\" && eventType) {\n      events = eventType.toLowerCase().split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && !(\"length\" in eventType) && typeof listener === \"undefined\") {\n      _keys(eventType).forEach(function(key) {\n        var listener = eventType[key];\n        if (typeof listener === \"function\") {\n          ZeroClipboard.off(key, listener);\n        }\n      });\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].replace(/^on/, \"\");\n        perEventHandlers = _handlers[eventType];\n        if (perEventHandlers && perEventHandlers.length) {\n          if (listener) {\n            foundIndex = perEventHandlers.indexOf(listener);\n            while (foundIndex !== -1) {\n              perEventHandlers.splice(foundIndex, 1);\n              foundIndex = perEventHandlers.indexOf(listener, foundIndex);\n            }\n          } else {\n            perEventHandlers.length = 0;\n          }\n        }\n      }\n    }\n    return ZeroClipboard;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.handlers`.\n * @private\n */\n  var _listeners = function(eventType) {\n    var copy;\n    if (typeof eventType === \"string\" && eventType) {\n      copy = _deepCopy(_handlers[eventType]) || null;\n    } else {\n      copy = _deepCopy(_handlers);\n    }\n    return copy;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.emit`.\n * @private\n */\n  var _emit = function(event) {\n    var eventCopy, returnVal, tmp;\n    event = _createEvent(event);\n    if (!event) {\n      return;\n    }\n    if (_preprocessEvent(event)) {\n      return;\n    }\n    if (event.type === \"ready\" && _flashState.overdue === true) {\n      return ZeroClipboard.emit({\n        type: \"error\",\n        name: \"flash-overdue\"\n      });\n    }\n    eventCopy = _extend({}, event);\n    _dispatchCallbacks.call(this, eventCopy);\n    if (event.type === \"copy\") {\n      tmp = _mapClipDataToFlash(_clipData);\n      returnVal = tmp.data;\n      _clipDataFormatMap = tmp.formatMap;\n    }\n    return returnVal;\n  };\n  /**\n * Get the protocol of the configured SWF path.\n * @private\n */\n  var _getSwfPathProtocol = function() {\n    var swfPath = _globalConfig.swfPath || \"\", swfPathFirstTwoChars = swfPath.slice(0, 2), swfProtocol = swfPath.slice(0, swfPath.indexOf(\"://\") + 1);\n    return swfPathFirstTwoChars === \"\\\\\\\\\" ? \"file:\" : swfPathFirstTwoChars === \"//\" || swfProtocol === \"\" ? _window.location.protocol : swfProtocol;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.create`.\n * @private\n */\n  var _create = function() {\n    var maxWait, swfProtocol, previousState = _flashState.sandboxed;\n    if (!_isBrowserSupported()) {\n      _flashState.ready = false;\n      ZeroClipboard.emit({\n        type: \"error\",\n        name: \"browser-unsupported\"\n      });\n      return;\n    }\n    _detectSandbox();\n    if (typeof _flashState.ready !== \"boolean\") {\n      _flashState.ready = false;\n    }\n    if (_flashState.sandboxed !== previousState && _flashState.sandboxed === true) {\n      _flashState.ready = false;\n      ZeroClipboard.emit({\n        type: \"error\",\n        name: \"flash-sandboxed\"\n      });\n    } else if (!ZeroClipboard.isFlashUnusable() && _flashState.bridge === null) {\n      swfProtocol = _getSwfPathProtocol();\n      if (swfProtocol && swfProtocol !== _window.location.protocol) {\n        ZeroClipboard.emit({\n          type: \"error\",\n          name: \"flash-insecure\"\n        });\n      } else {\n        maxWait = _globalConfig.flashLoadTimeout;\n        if (typeof maxWait === \"number\" && maxWait >= 0) {\n          _flashCheckTimeout = _setTimeout(function() {\n            if (typeof _flashState.deactivated !== \"boolean\") {\n              _flashState.deactivated = true;\n            }\n            if (_flashState.deactivated === true) {\n              ZeroClipboard.emit({\n                type: \"error\",\n                name: \"flash-deactivated\"\n              });\n            }\n          }, maxWait);\n        }\n        _flashState.overdue = false;\n        _embedSwf();\n      }\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.destroy`.\n * @private\n */\n  var _destroy = function() {\n    ZeroClipboard.clearData();\n    ZeroClipboard.blur();\n    ZeroClipboard.emit(\"destroy\");\n    _unembedSwf();\n    ZeroClipboard.off();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.setData`.\n * @private\n */\n  var _setData = function(format, data) {\n    var dataObj;\n    if (typeof format === \"object\" && format && typeof data === \"undefined\") {\n      dataObj = format;\n      ZeroClipboard.clearData();\n    } else if (typeof format === \"string\" && format) {\n      dataObj = {};\n      dataObj[format] = data;\n    } else {\n      return;\n    }\n    for (var dataFormat in dataObj) {\n      if (typeof dataFormat === \"string\" && dataFormat && _hasOwn.call(dataObj, dataFormat) && typeof dataObj[dataFormat] === \"string\" && dataObj[dataFormat]) {\n        _clipData[dataFormat] = _fixLineEndings(dataObj[dataFormat]);\n      }\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.clearData`.\n * @private\n */\n  var _clearData = function(format) {\n    if (typeof format === \"undefined\") {\n      _deleteOwnProperties(_clipData);\n      _clipDataFormatMap = null;\n    } else if (typeof format === \"string\" && _hasOwn.call(_clipData, format)) {\n      delete _clipData[format];\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.getData`.\n * @private\n */\n  var _getData = function(format) {\n    if (typeof format === \"undefined\") {\n      return _deepCopy(_clipData);\n    } else if (typeof format === \"string\" && _hasOwn.call(_clipData, format)) {\n      return _clipData[format];\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.focus`/`ZeroClipboard.activate`.\n * @private\n */\n  var _focus = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    if (_currentElement) {\n      _removeClass(_currentElement, _globalConfig.activeClass);\n      if (_currentElement !== element) {\n        _removeClass(_currentElement, _globalConfig.hoverClass);\n      }\n    }\n    _currentElement = element;\n    _addClass(element, _globalConfig.hoverClass);\n    var newTitle = element.getAttribute(\"title\") || _globalConfig.title;\n    if (typeof newTitle === \"string\" && newTitle) {\n      var htmlBridge = _getHtmlBridge(_flashState.bridge);\n      if (htmlBridge) {\n        htmlBridge.setAttribute(\"title\", newTitle);\n      }\n    }\n    var useHandCursor = _globalConfig.forceHandCursor === true || _getStyle(element, \"cursor\") === \"pointer\";\n    _setHandCursor(useHandCursor);\n    _reposition();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.blur`/`ZeroClipboard.deactivate`.\n * @private\n */\n  var _blur = function() {\n    var htmlBridge = _getHtmlBridge(_flashState.bridge);\n    if (htmlBridge) {\n      htmlBridge.removeAttribute(\"title\");\n      htmlBridge.style.left = \"0px\";\n      htmlBridge.style.top = \"-9999px\";\n      htmlBridge.style.width = \"1px\";\n      htmlBridge.style.height = \"1px\";\n    }\n    if (_currentElement) {\n      _removeClass(_currentElement, _globalConfig.hoverClass);\n      _removeClass(_currentElement, _globalConfig.activeClass);\n      _currentElement = null;\n    }\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.activeElement`.\n * @private\n */\n  var _activeElement = function() {\n    return _currentElement || null;\n  };\n  /**\n * Check if a value is a valid HTML4 `ID` or `Name` token.\n * @private\n */\n  var _isValidHtml4Id = function(id) {\n    return typeof id === \"string\" && id && /^[A-Za-z][A-Za-z0-9_:\\-\\.]*$/.test(id);\n  };\n  /**\n * Create or update an `event` object, based on the `eventType`.\n * @private\n */\n  var _createEvent = function(event) {\n    var eventType;\n    if (typeof event === \"string\" && event) {\n      eventType = event;\n      event = {};\n    } else if (typeof event === \"object\" && event && typeof event.type === \"string\" && event.type) {\n      eventType = event.type;\n    }\n    if (!eventType) {\n      return;\n    }\n    eventType = eventType.toLowerCase();\n    if (!event.target && (/^(copy|aftercopy|_click)$/.test(eventType) || eventType === \"error\" && event.name === \"clipboard-error\")) {\n      event.target = _copyTarget;\n    }\n    _extend(event, {\n      type: eventType,\n      target: event.target || _currentElement || null,\n      relatedTarget: event.relatedTarget || null,\n      currentTarget: _flashState && _flashState.bridge || null,\n      timeStamp: event.timeStamp || _now() || null\n    });\n    var msg = _eventMessages[event.type];\n    if (event.type === \"error\" && event.name && msg) {\n      msg = msg[event.name];\n    }\n    if (msg) {\n      event.message = msg;\n    }\n    if (event.type === \"ready\") {\n      _extend(event, {\n        target: null,\n        version: _flashState.version\n      });\n    }\n    if (event.type === \"error\") {\n      if (_flashStateErrorNameMatchingRegex.test(event.name)) {\n        _extend(event, {\n          target: null,\n          minimumVersion: _minimumFlashVersion\n        });\n      }\n      if (_flashStateEnabledErrorNameMatchingRegex.test(event.name)) {\n        _extend(event, {\n          version: _flashState.version\n        });\n      }\n      if (event.name === \"flash-insecure\") {\n        _extend(event, {\n          pageProtocol: _window.location.protocol,\n          swfProtocol: _getSwfPathProtocol()\n        });\n      }\n    }\n    if (event.type === \"copy\") {\n      event.clipboardData = {\n        setData: ZeroClipboard.setData,\n        clearData: ZeroClipboard.clearData\n      };\n    }\n    if (event.type === \"aftercopy\") {\n      event = _mapClipResultsFromFlash(event, _clipDataFormatMap);\n    }\n    if (event.target && !event.relatedTarget) {\n      event.relatedTarget = _getRelatedTarget(event.target);\n    }\n    return _addMouseData(event);\n  };\n  /**\n * Get a relatedTarget from the target's `data-clipboard-target` attribute\n * @private\n */\n  var _getRelatedTarget = function(targetEl) {\n    var relatedTargetId = targetEl && targetEl.getAttribute && targetEl.getAttribute(\"data-clipboard-target\");\n    return relatedTargetId ? _document.getElementById(relatedTargetId) : null;\n  };\n  /**\n * Add element and position data to `MouseEvent` instances\n * @private\n */\n  var _addMouseData = function(event) {\n    if (event && /^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)) {\n      var srcElement = event.target;\n      var fromElement = event.type === \"_mouseover\" && event.relatedTarget ? event.relatedTarget : undefined;\n      var toElement = event.type === \"_mouseout\" && event.relatedTarget ? event.relatedTarget : undefined;\n      var pos = _getElementPosition(srcElement);\n      var screenLeft = _window.screenLeft || _window.screenX || 0;\n      var screenTop = _window.screenTop || _window.screenY || 0;\n      var scrollLeft = _document.body.scrollLeft + _document.documentElement.scrollLeft;\n      var scrollTop = _document.body.scrollTop + _document.documentElement.scrollTop;\n      var pageX = pos.left + (typeof event._stageX === \"number\" ? event._stageX : 0);\n      var pageY = pos.top + (typeof event._stageY === \"number\" ? event._stageY : 0);\n      var clientX = pageX - scrollLeft;\n      var clientY = pageY - scrollTop;\n      var screenX = screenLeft + clientX;\n      var screenY = screenTop + clientY;\n      var moveX = typeof event.movementX === \"number\" ? event.movementX : 0;\n      var moveY = typeof event.movementY === \"number\" ? event.movementY : 0;\n      delete event._stageX;\n      delete event._stageY;\n      _extend(event, {\n        srcElement: srcElement,\n        fromElement: fromElement,\n        toElement: toElement,\n        screenX: screenX,\n        screenY: screenY,\n        pageX: pageX,\n        pageY: pageY,\n        clientX: clientX,\n        clientY: clientY,\n        x: clientX,\n        y: clientY,\n        movementX: moveX,\n        movementY: moveY,\n        offsetX: 0,\n        offsetY: 0,\n        layerX: 0,\n        layerY: 0\n      });\n    }\n    return event;\n  };\n  /**\n * Determine if an event's registered handlers should be execute synchronously or asynchronously.\n *\n * @returns {boolean}\n * @private\n */\n  var _shouldPerformAsync = function(event) {\n    var eventType = event && typeof event.type === \"string\" && event.type || \"\";\n    return !/^(?:(?:before)?copy|destroy)$/.test(eventType);\n  };\n  /**\n * Control if a callback should be executed asynchronously or not.\n *\n * @returns `undefined`\n * @private\n */\n  var _dispatchCallback = function(func, context, args, async) {\n    if (async) {\n      _setTimeout(function() {\n        func.apply(context, args);\n      }, 0);\n    } else {\n      func.apply(context, args);\n    }\n  };\n  /**\n * Handle the actual dispatching of events to client instances.\n *\n * @returns `undefined`\n * @private\n */\n  var _dispatchCallbacks = function(event) {\n    if (!(typeof event === \"object\" && event && event.type)) {\n      return;\n    }\n    var async = _shouldPerformAsync(event);\n    var wildcardTypeHandlers = _handlers[\"*\"] || [];\n    var specificTypeHandlers = _handlers[event.type] || [];\n    var handlers = wildcardTypeHandlers.concat(specificTypeHandlers);\n    if (handlers && handlers.length) {\n      var i, len, func, context, eventCopy, originalContext = this;\n      for (i = 0, len = handlers.length; i < len; i++) {\n        func = handlers[i];\n        context = originalContext;\n        if (typeof func === \"string\" && typeof _window[func] === \"function\") {\n          func = _window[func];\n        }\n        if (typeof func === \"object\" && func && typeof func.handleEvent === \"function\") {\n          context = func;\n          func = func.handleEvent;\n        }\n        if (typeof func === \"function\") {\n          eventCopy = _extend({}, event);\n          _dispatchCallback(func, context, [ eventCopy ], async);\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * Check an `error` event's `name` property to see if Flash has\n * already loaded, which rules out possible `iframe` sandboxing.\n * @private\n */\n  var _getSandboxStatusFromErrorEvent = function(event) {\n    var isSandboxed = null;\n    if (_pageIsFramed === false || event && event.type === \"error\" && event.name && _errorsThatOnlyOccurAfterFlashLoads.indexOf(event.name) !== -1) {\n      isSandboxed = false;\n    }\n    return isSandboxed;\n  };\n  /**\n * Preprocess any special behaviors, reactions, or state changes after receiving this event.\n * Executes only once per event emitted, NOT once per client.\n * @private\n */\n  var _preprocessEvent = function(event) {\n    var element = event.target || _currentElement || null;\n    var sourceIsSwf = event._source === \"swf\";\n    delete event._source;\n    switch (event.type) {\n     case \"error\":\n      var isSandboxed = event.name === \"flash-sandboxed\" || _getSandboxStatusFromErrorEvent(event);\n      if (typeof isSandboxed === \"boolean\") {\n        _flashState.sandboxed = isSandboxed;\n      }\n      if (event.name === \"browser-unsupported\") {\n        _extend(_flashState, {\n          disabled: false,\n          outdated: false,\n          unavailable: false,\n          degraded: false,\n          deactivated: false,\n          overdue: false,\n          ready: false\n        });\n      } else if (_flashStateErrorNames.indexOf(event.name) !== -1) {\n        _extend(_flashState, {\n          disabled: event.name === \"flash-disabled\",\n          outdated: event.name === \"flash-outdated\",\n          insecure: event.name === \"flash-insecure\",\n          unavailable: event.name === \"flash-unavailable\",\n          degraded: event.name === \"flash-degraded\",\n          deactivated: event.name === \"flash-deactivated\",\n          overdue: event.name === \"flash-overdue\",\n          ready: false\n        });\n      } else if (event.name === \"version-mismatch\") {\n        _zcSwfVersion = event.swfVersion;\n        _extend(_flashState, {\n          disabled: false,\n          outdated: false,\n          insecure: false,\n          unavailable: false,\n          degraded: false,\n          deactivated: false,\n          overdue: false,\n          ready: false\n        });\n      }\n      _clearTimeoutsAndPolling();\n      break;\n\n     case \"ready\":\n      _zcSwfVersion = event.swfVersion;\n      var wasDeactivated = _flashState.deactivated === true;\n      _extend(_flashState, {\n        sandboxed: false,\n        disabled: false,\n        outdated: false,\n        insecure: false,\n        unavailable: false,\n        degraded: false,\n        deactivated: false,\n        overdue: wasDeactivated,\n        ready: !wasDeactivated\n      });\n      _clearTimeoutsAndPolling();\n      break;\n\n     case \"beforecopy\":\n      _copyTarget = element;\n      break;\n\n     case \"copy\":\n      var textContent, htmlContent, targetEl = event.relatedTarget;\n      if (!(_clipData[\"text/html\"] || _clipData[\"text/plain\"]) && targetEl && (htmlContent = targetEl.value || targetEl.outerHTML || targetEl.innerHTML) && (textContent = targetEl.value || targetEl.textContent || targetEl.innerText)) {\n        event.clipboardData.clearData();\n        event.clipboardData.setData(\"text/plain\", textContent);\n        if (htmlContent !== textContent) {\n          event.clipboardData.setData(\"text/html\", htmlContent);\n        }\n      } else if (!_clipData[\"text/plain\"] && event.target && (textContent = event.target.getAttribute(\"data-clipboard-text\"))) {\n        event.clipboardData.clearData();\n        event.clipboardData.setData(\"text/plain\", textContent);\n      }\n      break;\n\n     case \"aftercopy\":\n      _queueEmitClipboardErrors(event);\n      ZeroClipboard.clearData();\n      if (element && element !== _safeActiveElement() && element.focus) {\n        element.focus();\n      }\n      break;\n\n     case \"_mouseover\":\n      ZeroClipboard.focus(element);\n      if (_globalConfig.bubbleEvents === true && sourceIsSwf) {\n        if (element && element !== event.relatedTarget && !_containedBy(event.relatedTarget, element)) {\n          _fireMouseEvent(_extend({}, event, {\n            type: \"mouseenter\",\n            bubbles: false,\n            cancelable: false\n          }));\n        }\n        _fireMouseEvent(_extend({}, event, {\n          type: \"mouseover\"\n        }));\n      }\n      break;\n\n     case \"_mouseout\":\n      ZeroClipboard.blur();\n      if (_globalConfig.bubbleEvents === true && sourceIsSwf) {\n        if (element && element !== event.relatedTarget && !_containedBy(event.relatedTarget, element)) {\n          _fireMouseEvent(_extend({}, event, {\n            type: \"mouseleave\",\n            bubbles: false,\n            cancelable: false\n          }));\n        }\n        _fireMouseEvent(_extend({}, event, {\n          type: \"mouseout\"\n        }));\n      }\n      break;\n\n     case \"_mousedown\":\n      _addClass(element, _globalConfig.activeClass);\n      if (_globalConfig.bubbleEvents === true && sourceIsSwf) {\n        _fireMouseEvent(_extend({}, event, {\n          type: event.type.slice(1)\n        }));\n      }\n      break;\n\n     case \"_mouseup\":\n      _removeClass(element, _globalConfig.activeClass);\n      if (_globalConfig.bubbleEvents === true && sourceIsSwf) {\n        _fireMouseEvent(_extend({}, event, {\n          type: event.type.slice(1)\n        }));\n      }\n      break;\n\n     case \"_click\":\n      _copyTarget = null;\n      if (_globalConfig.bubbleEvents === true && sourceIsSwf) {\n        _fireMouseEvent(_extend({}, event, {\n          type: event.type.slice(1)\n        }));\n      }\n      break;\n\n     case \"_mousemove\":\n      if (_globalConfig.bubbleEvents === true && sourceIsSwf) {\n        _fireMouseEvent(_extend({}, event, {\n          type: event.type.slice(1)\n        }));\n      }\n      break;\n    }\n    if (/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)) {\n      return true;\n    }\n  };\n  /**\n * Check an \"aftercopy\" event for clipboard errors and emit a corresponding \"error\" event.\n * @private\n */\n  var _queueEmitClipboardErrors = function(aftercopyEvent) {\n    if (aftercopyEvent.errors && aftercopyEvent.errors.length > 0) {\n      var errorEvent = _deepCopy(aftercopyEvent);\n      _extend(errorEvent, {\n        type: \"error\",\n        name: \"clipboard-error\"\n      });\n      delete errorEvent.success;\n      _setTimeout(function() {\n        ZeroClipboard.emit(errorEvent);\n      }, 0);\n    }\n  };\n  /**\n * Dispatch a synthetic MouseEvent.\n *\n * @returns `undefined`\n * @private\n */\n  var _fireMouseEvent = function(event) {\n    if (!(event && typeof event.type === \"string\" && event)) {\n      return;\n    }\n    var e, target = event.target || null, doc = target && target.ownerDocument || _document, defaults = {\n      view: doc.defaultView || _window,\n      canBubble: true,\n      cancelable: true,\n      detail: event.type === \"click\" ? 1 : 0,\n      button: typeof event.which === \"number\" ? event.which - 1 : typeof event.button === \"number\" ? event.button : doc.createEvent ? 0 : 1\n    }, args = _extend(defaults, event);\n    if (!target) {\n      return;\n    }\n    if (doc.createEvent && target.dispatchEvent) {\n      args = [ args.type, args.canBubble, args.cancelable, args.view, args.detail, args.screenX, args.screenY, args.clientX, args.clientY, args.ctrlKey, args.altKey, args.shiftKey, args.metaKey, args.button, args.relatedTarget ];\n      e = doc.createEvent(\"MouseEvents\");\n      if (e.initMouseEvent) {\n        e.initMouseEvent.apply(e, args);\n        e._source = \"js\";\n        target.dispatchEvent(e);\n      }\n    }\n  };\n  /**\n * Continuously poll the DOM until either:\n *  (a) the fallback content becomes visible, or\n *  (b) we receive an event from SWF (handled elsewhere)\n *\n * IMPORTANT:\n * This is NOT a necessary check but it can result in significantly faster\n * detection of bad `swfPath` configuration and/or network/server issues [in\n * supported browsers] than waiting for the entire `flashLoadTimeout` duration\n * to elapse before detecting that the SWF cannot be loaded. The detection\n * duration can be anywhere from 10-30 times faster [in supported browsers] by\n * using this approach.\n *\n * @returns `undefined`\n * @private\n */\n  var _watchForSwfFallbackContent = function() {\n    var maxWait = _globalConfig.flashLoadTimeout;\n    if (typeof maxWait === \"number\" && maxWait >= 0) {\n      var pollWait = Math.min(1e3, maxWait / 10);\n      var fallbackContentId = _globalConfig.swfObjectId + \"_fallbackContent\";\n      _swfFallbackCheckInterval = _setInterval(function() {\n        var el = _document.getElementById(fallbackContentId);\n        if (_isElementVisible(el)) {\n          _clearTimeoutsAndPolling();\n          _flashState.deactivated = null;\n          ZeroClipboard.emit({\n            type: \"error\",\n            name: \"swf-not-found\"\n          });\n        }\n      }, pollWait);\n    }\n  };\n  /**\n * Create the HTML bridge element to embed the Flash object into.\n * @private\n */\n  var _createHtmlBridge = function() {\n    var container = _document.createElement(\"div\");\n    container.id = _globalConfig.containerId;\n    container.className = _globalConfig.containerClass;\n    container.style.position = \"absolute\";\n    container.style.left = \"0px\";\n    container.style.top = \"-9999px\";\n    container.style.width = \"1px\";\n    container.style.height = \"1px\";\n    container.style.zIndex = \"\" + _getSafeZIndex(_globalConfig.zIndex);\n    return container;\n  };\n  /**\n * Get the HTML element container that wraps the Flash bridge object/element.\n * @private\n */\n  var _getHtmlBridge = function(flashBridge) {\n    var htmlBridge = flashBridge && flashBridge.parentNode;\n    while (htmlBridge && htmlBridge.nodeName === \"OBJECT\" && htmlBridge.parentNode) {\n      htmlBridge = htmlBridge.parentNode;\n    }\n    return htmlBridge || null;\n  };\n  /**\n *\n * @private\n */\n  var _escapeXmlValue = function(val) {\n    if (typeof val !== \"string\" || !val) {\n      return val;\n    }\n    return val.replace(/[\"&'<>]/g, function(chr) {\n      switch (chr) {\n       case '\"':\n        return \"&quot;\";\n\n       case \"&\":\n        return \"&amp;\";\n\n       case \"'\":\n        return \"&apos;\";\n\n       case \"<\":\n        return \"&lt;\";\n\n       case \">\":\n        return \"&gt;\";\n\n       default:\n        return chr;\n      }\n    });\n  };\n  /**\n * Create the SWF object.\n *\n * @returns The SWF object reference.\n * @private\n */\n  var _embedSwf = function() {\n    var len, flashBridge = _flashState.bridge, container = _getHtmlBridge(flashBridge);\n    if (!flashBridge) {\n      var allowScriptAccess = _determineScriptAccess(_window.location.host, _globalConfig);\n      var allowNetworking = allowScriptAccess === \"never\" ? \"none\" : \"all\";\n      var flashvars = _vars(_extend({\n        jsVersion: ZeroClipboard.version\n      }, _globalConfig));\n      var swfUrl = _globalConfig.swfPath + _cacheBust(_globalConfig.swfPath, _globalConfig);\n      if (_pageIsXhtml) {\n        swfUrl = _escapeXmlValue(swfUrl);\n      }\n      container = _createHtmlBridge();\n      var divToBeReplaced = _document.createElement(\"div\");\n      container.appendChild(divToBeReplaced);\n      _document.body.appendChild(container);\n      var tmpDiv = _document.createElement(\"div\");\n      var usingActiveX = _flashState.pluginType === \"activex\";\n      tmpDiv.innerHTML = '<object id=\"' + _globalConfig.swfObjectId + '\" name=\"' + _globalConfig.swfObjectId + '\" ' + 'width=\"100%\" height=\"100%\" ' + (usingActiveX ? 'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"' : 'type=\"application/x-shockwave-flash\" data=\"' + swfUrl + '\"') + \">\" + (usingActiveX ? '<param name=\"movie\" value=\"' + swfUrl + '\"/>' : \"\") + '<param name=\"allowScriptAccess\" value=\"' + allowScriptAccess + '\"/>' + '<param name=\"allowNetworking\" value=\"' + allowNetworking + '\"/>' + '<param name=\"menu\" value=\"false\"/>' + '<param name=\"wmode\" value=\"transparent\"/>' + '<param name=\"flashvars\" value=\"' + flashvars + '\"/>' + '<div id=\"' + _globalConfig.swfObjectId + '_fallbackContent\">&nbsp;</div>' + \"</object>\";\n      flashBridge = tmpDiv.firstChild;\n      tmpDiv = null;\n      _unwrap(flashBridge).ZeroClipboard = ZeroClipboard;\n      container.replaceChild(flashBridge, divToBeReplaced);\n      _watchForSwfFallbackContent();\n    }\n    if (!flashBridge) {\n      flashBridge = _document[_globalConfig.swfObjectId];\n      if (flashBridge && (len = flashBridge.length)) {\n        flashBridge = flashBridge[len - 1];\n      }\n      if (!flashBridge && container) {\n        flashBridge = container.firstChild;\n      }\n    }\n    _flashState.bridge = flashBridge || null;\n    return flashBridge;\n  };\n  /**\n * Destroy the SWF object.\n * @private\n */\n  var _unembedSwf = function() {\n    var flashBridge = _flashState.bridge;\n    if (flashBridge) {\n      var htmlBridge = _getHtmlBridge(flashBridge);\n      if (htmlBridge) {\n        if (_flashState.pluginType === \"activex\" && \"readyState\" in flashBridge) {\n          flashBridge.style.display = \"none\";\n          (function removeSwfFromIE() {\n            if (flashBridge.readyState === 4) {\n              for (var prop in flashBridge) {\n                if (typeof flashBridge[prop] === \"function\") {\n                  flashBridge[prop] = null;\n                }\n              }\n              if (flashBridge.parentNode) {\n                flashBridge.parentNode.removeChild(flashBridge);\n              }\n              if (htmlBridge.parentNode) {\n                htmlBridge.parentNode.removeChild(htmlBridge);\n              }\n            } else {\n              _setTimeout(removeSwfFromIE, 10);\n            }\n          })();\n        } else {\n          if (flashBridge.parentNode) {\n            flashBridge.parentNode.removeChild(flashBridge);\n          }\n          if (htmlBridge.parentNode) {\n            htmlBridge.parentNode.removeChild(htmlBridge);\n          }\n        }\n      }\n      _clearTimeoutsAndPolling();\n      _flashState.ready = null;\n      _flashState.bridge = null;\n      _flashState.deactivated = null;\n      _flashState.insecure = null;\n      _zcSwfVersion = undefined;\n    }\n  };\n  /**\n * Map the data format names of the \"clipData\" to Flash-friendly names.\n *\n * @returns A new transformed object.\n * @private\n */\n  var _mapClipDataToFlash = function(clipData) {\n    var newClipData = {}, formatMap = {};\n    if (!(typeof clipData === \"object\" && clipData)) {\n      return;\n    }\n    for (var dataFormat in clipData) {\n      if (dataFormat && _hasOwn.call(clipData, dataFormat) && typeof clipData[dataFormat] === \"string\" && clipData[dataFormat]) {\n        switch (dataFormat.toLowerCase()) {\n         case \"text/plain\":\n         case \"text\":\n         case \"air:text\":\n         case \"flash:text\":\n          newClipData.text = clipData[dataFormat];\n          formatMap.text = dataFormat;\n          break;\n\n         case \"text/html\":\n         case \"html\":\n         case \"air:html\":\n         case \"flash:html\":\n          newClipData.html = clipData[dataFormat];\n          formatMap.html = dataFormat;\n          break;\n\n         case \"application/rtf\":\n         case \"text/rtf\":\n         case \"rtf\":\n         case \"richtext\":\n         case \"air:rtf\":\n         case \"flash:rtf\":\n          newClipData.rtf = clipData[dataFormat];\n          formatMap.rtf = dataFormat;\n          break;\n\n         default:\n          break;\n        }\n      }\n    }\n    return {\n      data: newClipData,\n      formatMap: formatMap\n    };\n  };\n  /**\n * Map the data format names from Flash-friendly names back to their original \"clipData\" names (via a format mapping).\n *\n * @returns A new transformed object.\n * @private\n */\n  var _mapClipResultsFromFlash = function(clipResults, formatMap) {\n    if (!(typeof clipResults === \"object\" && clipResults && typeof formatMap === \"object\" && formatMap)) {\n      return clipResults;\n    }\n    var newResults = {};\n    for (var prop in clipResults) {\n      if (_hasOwn.call(clipResults, prop)) {\n        if (prop === \"errors\") {\n          newResults[prop] = clipResults[prop] ? clipResults[prop].slice() : [];\n          for (var i = 0, len = newResults[prop].length; i < len; i++) {\n            newResults[prop][i].format = formatMap[newResults[prop][i].format];\n          }\n        } else if (prop !== \"success\" && prop !== \"data\") {\n          newResults[prop] = clipResults[prop];\n        } else {\n          newResults[prop] = {};\n          var tmpHash = clipResults[prop];\n          for (var dataFormat in tmpHash) {\n            if (dataFormat && _hasOwn.call(tmpHash, dataFormat) && _hasOwn.call(formatMap, dataFormat)) {\n              newResults[prop][formatMap[dataFormat]] = tmpHash[dataFormat];\n            }\n          }\n        }\n      }\n    }\n    return newResults;\n  };\n  /**\n * Will look at a path, and will create a \"?noCache={time}\" or \"&noCache={time}\"\n * query param string to return. Does NOT append that string to the original path.\n * This is useful because ExternalInterface often breaks when a Flash SWF is cached.\n *\n * @returns The `noCache` query param with necessary \"?\"/\"&\" prefix.\n * @private\n */\n  var _cacheBust = function(path, options) {\n    var cacheBust = options == null || options && options.cacheBust === true;\n    if (cacheBust) {\n      return (path.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"noCache=\" + _now();\n    } else {\n      return \"\";\n    }\n  };\n  /**\n * Creates a query string for the FlashVars param.\n * Does NOT include the cache-busting query param.\n *\n * @returns FlashVars query string\n * @private\n */\n  var _vars = function(options) {\n    var i, len, domain, domains, str = \"\", trustedOriginsExpanded = [];\n    if (options.trustedDomains) {\n      if (typeof options.trustedDomains === \"string\") {\n        domains = [ options.trustedDomains ];\n      } else if (typeof options.trustedDomains === \"object\" && \"length\" in options.trustedDomains) {\n        domains = options.trustedDomains;\n      }\n    }\n    if (domains && domains.length) {\n      for (i = 0, len = domains.length; i < len; i++) {\n        if (_hasOwn.call(domains, i) && domains[i] && typeof domains[i] === \"string\") {\n          domain = _extractDomain(domains[i]);\n          if (!domain) {\n            continue;\n          }\n          if (domain === \"*\") {\n            trustedOriginsExpanded.length = 0;\n            trustedOriginsExpanded.push(domain);\n            break;\n          }\n          trustedOriginsExpanded.push.apply(trustedOriginsExpanded, [ domain, \"//\" + domain, _window.location.protocol + \"//\" + domain ]);\n        }\n      }\n    }\n    if (trustedOriginsExpanded.length) {\n      str += \"trustedOrigins=\" + _encodeURIComponent(trustedOriginsExpanded.join(\",\"));\n    }\n    if (options.forceEnhancedClipboard === true) {\n      str += (str ? \"&\" : \"\") + \"forceEnhancedClipboard=true\";\n    }\n    if (typeof options.swfObjectId === \"string\" && options.swfObjectId) {\n      str += (str ? \"&\" : \"\") + \"swfObjectId=\" + _encodeURIComponent(options.swfObjectId);\n    }\n    if (typeof options.jsVersion === \"string\" && options.jsVersion) {\n      str += (str ? \"&\" : \"\") + \"jsVersion=\" + _encodeURIComponent(options.jsVersion);\n    }\n    return str;\n  };\n  /**\n * Extract the domain (e.g. \"github.com\") from an origin (e.g. \"https://github.com\") or\n * URL (e.g. \"https://github.com/zeroclipboard/zeroclipboard/\").\n *\n * @returns the domain\n * @private\n */\n  var _extractDomain = function(originOrUrl) {\n    if (originOrUrl == null || originOrUrl === \"\") {\n      return null;\n    }\n    originOrUrl = originOrUrl.replace(/^\\s+|\\s+$/g, \"\");\n    if (originOrUrl === \"\") {\n      return null;\n    }\n    var protocolIndex = originOrUrl.indexOf(\"//\");\n    originOrUrl = protocolIndex === -1 ? originOrUrl : originOrUrl.slice(protocolIndex + 2);\n    var pathIndex = originOrUrl.indexOf(\"/\");\n    originOrUrl = pathIndex === -1 ? originOrUrl : protocolIndex === -1 || pathIndex === 0 ? null : originOrUrl.slice(0, pathIndex);\n    if (originOrUrl && originOrUrl.slice(-4).toLowerCase() === \".swf\") {\n      return null;\n    }\n    return originOrUrl || null;\n  };\n  /**\n * Set `allowScriptAccess` based on `trustedDomains` and `window.location.host` vs. `swfPath`.\n *\n * @returns The appropriate script access level.\n * @private\n */\n  var _determineScriptAccess = function() {\n    var _extractAllDomains = function(origins) {\n      var i, len, tmp, resultsArray = [];\n      if (typeof origins === \"string\") {\n        origins = [ origins ];\n      }\n      if (!(typeof origins === \"object\" && origins && typeof origins.length === \"number\")) {\n        return resultsArray;\n      }\n      for (i = 0, len = origins.length; i < len; i++) {\n        if (_hasOwn.call(origins, i) && (tmp = _extractDomain(origins[i]))) {\n          if (tmp === \"*\") {\n            resultsArray.length = 0;\n            resultsArray.push(\"*\");\n            break;\n          }\n          if (resultsArray.indexOf(tmp) === -1) {\n            resultsArray.push(tmp);\n          }\n        }\n      }\n      return resultsArray;\n    };\n    return function(currentDomain, configOptions) {\n      var swfDomain = _extractDomain(configOptions.swfPath);\n      if (swfDomain === null) {\n        swfDomain = currentDomain;\n      }\n      var trustedDomains = _extractAllDomains(configOptions.trustedDomains);\n      var len = trustedDomains.length;\n      if (len > 0) {\n        if (len === 1 && trustedDomains[0] === \"*\") {\n          return \"always\";\n        }\n        if (trustedDomains.indexOf(currentDomain) !== -1) {\n          if (len === 1 && currentDomain === swfDomain) {\n            return \"sameDomain\";\n          }\n          return \"always\";\n        }\n      }\n      return \"never\";\n    };\n  }();\n  /**\n * Get the currently active/focused DOM element.\n *\n * @returns the currently active/focused element, or `null`\n * @private\n */\n  var _safeActiveElement = function() {\n    try {\n      return _document.activeElement;\n    } catch (err) {\n      return null;\n    }\n  };\n  /**\n * Add a class to an element, if it doesn't already have it.\n *\n * @returns The element, with its new class added.\n * @private\n */\n  var _addClass = function(element, value) {\n    var c, cl, className, classNames = [];\n    if (typeof value === \"string\" && value) {\n      classNames = value.split(/\\s+/);\n    }\n    if (element && element.nodeType === 1 && classNames.length > 0) {\n      className = (\" \" + (element.className || \"\") + \" \").replace(/[\\t\\r\\n\\f]/g, \" \");\n      for (c = 0, cl = classNames.length; c < cl; c++) {\n        if (className.indexOf(\" \" + classNames[c] + \" \") === -1) {\n          className += classNames[c] + \" \";\n        }\n      }\n      className = className.replace(/^\\s+|\\s+$/g, \"\");\n      if (className !== element.className) {\n        element.className = className;\n      }\n    }\n    return element;\n  };\n  /**\n * Remove a class from an element, if it has it.\n *\n * @returns The element, with its class removed.\n * @private\n */\n  var _removeClass = function(element, value) {\n    var c, cl, className, classNames = [];\n    if (typeof value === \"string\" && value) {\n      classNames = value.split(/\\s+/);\n    }\n    if (element && element.nodeType === 1 && classNames.length > 0) {\n      if (element.className) {\n        className = (\" \" + element.className + \" \").replace(/[\\t\\r\\n\\f]/g, \" \");\n        for (c = 0, cl = classNames.length; c < cl; c++) {\n          className = className.replace(\" \" + classNames[c] + \" \", \" \");\n        }\n        className = className.replace(/^\\s+|\\s+$/g, \"\");\n        if (className !== element.className) {\n          element.className = className;\n        }\n      }\n    }\n    return element;\n  };\n  /**\n * Attempt to interpret the element's CSS styling. If `prop` is `\"cursor\"`,\n * then we assume that it should be a hand (\"pointer\") cursor if the element\n * is an anchor element (\"a\" tag).\n *\n * @returns The computed style property.\n * @private\n */\n  var _getStyle = function(el, prop) {\n    var value = _getComputedStyle(el, null).getPropertyValue(prop);\n    if (prop === \"cursor\") {\n      if (!value || value === \"auto\") {\n        if (el.nodeName === \"A\") {\n          return \"pointer\";\n        }\n      }\n    }\n    return value;\n  };\n  /**\n * Get the absolutely positioned coordinates of a DOM element.\n *\n * @returns Object containing the element's position, width, and height.\n * @private\n */\n  var _getElementPosition = function(el) {\n    var pos = {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    };\n    if (el.getBoundingClientRect) {\n      var elRect = el.getBoundingClientRect();\n      var pageXOffset = _window.pageXOffset;\n      var pageYOffset = _window.pageYOffset;\n      var leftBorderWidth = _document.documentElement.clientLeft || 0;\n      var topBorderWidth = _document.documentElement.clientTop || 0;\n      var leftBodyOffset = 0;\n      var topBodyOffset = 0;\n      if (_getStyle(_document.body, \"position\") === \"relative\") {\n        var bodyRect = _document.body.getBoundingClientRect();\n        var htmlRect = _document.documentElement.getBoundingClientRect();\n        leftBodyOffset = bodyRect.left - htmlRect.left || 0;\n        topBodyOffset = bodyRect.top - htmlRect.top || 0;\n      }\n      pos.left = elRect.left + pageXOffset - leftBorderWidth - leftBodyOffset;\n      pos.top = elRect.top + pageYOffset - topBorderWidth - topBodyOffset;\n      pos.width = \"width\" in elRect ? elRect.width : elRect.right - elRect.left;\n      pos.height = \"height\" in elRect ? elRect.height : elRect.bottom - elRect.top;\n    }\n    return pos;\n  };\n  /**\n * Determine is an element is visible somewhere within the document (page).\n *\n * @returns Boolean\n * @private\n */\n  var _isElementVisible = function(el) {\n    if (!el) {\n      return false;\n    }\n    var styles = _getComputedStyle(el, null);\n    if (!styles) {\n      return false;\n    }\n    var hasCssHeight = _parseFloat(styles.height) > 0;\n    var hasCssWidth = _parseFloat(styles.width) > 0;\n    var hasCssTop = _parseFloat(styles.top) >= 0;\n    var hasCssLeft = _parseFloat(styles.left) >= 0;\n    var cssKnows = hasCssHeight && hasCssWidth && hasCssTop && hasCssLeft;\n    var rect = cssKnows ? null : _getElementPosition(el);\n    var isVisible = styles.display !== \"none\" && styles.visibility !== \"collapse\" && (cssKnows || !!rect && (hasCssHeight || rect.height > 0) && (hasCssWidth || rect.width > 0) && (hasCssTop || rect.top >= 0) && (hasCssLeft || rect.left >= 0));\n    return isVisible;\n  };\n  /**\n * Clear all existing timeouts and interval polling delegates.\n *\n * @returns `undefined`\n * @private\n */\n  var _clearTimeoutsAndPolling = function() {\n    _clearTimeout(_flashCheckTimeout);\n    _flashCheckTimeout = 0;\n    _clearInterval(_swfFallbackCheckInterval);\n    _swfFallbackCheckInterval = 0;\n  };\n  /**\n * Reposition the Flash object to cover the currently activated element.\n *\n * @returns `undefined`\n * @private\n */\n  var _reposition = function() {\n    var htmlBridge;\n    if (_currentElement && (htmlBridge = _getHtmlBridge(_flashState.bridge))) {\n      var pos = _getElementPosition(_currentElement);\n      _extend(htmlBridge.style, {\n        width: pos.width + \"px\",\n        height: pos.height + \"px\",\n        top: pos.top + \"px\",\n        left: pos.left + \"px\",\n        zIndex: \"\" + _getSafeZIndex(_globalConfig.zIndex)\n      });\n    }\n  };\n  /**\n * Sends a signal to the Flash object to display the hand cursor if `true`.\n *\n * @returns `undefined`\n * @private\n */\n  var _setHandCursor = function(enabled) {\n    if (_flashState.ready === true) {\n      if (_flashState.bridge && typeof _flashState.bridge.setHandCursor === \"function\") {\n        _flashState.bridge.setHandCursor(enabled);\n      } else {\n        _flashState.ready = false;\n      }\n    }\n  };\n  /**\n * Get a safe value for `zIndex`\n *\n * @returns an integer, or \"auto\"\n * @private\n */\n  var _getSafeZIndex = function(val) {\n    if (/^(?:auto|inherit)$/.test(val)) {\n      return val;\n    }\n    var zIndex;\n    if (typeof val === \"number\" && !_isNaN(val)) {\n      zIndex = val;\n    } else if (typeof val === \"string\") {\n      zIndex = _getSafeZIndex(_parseInt(val, 10));\n    }\n    return typeof zIndex === \"number\" ? zIndex : \"auto\";\n  };\n  /**\n * Ensure OS-compliant line endings, i.e. \"\\r\\n\" on Windows, \"\\n\" elsewhere\n *\n * @returns string\n * @private\n */\n  var _fixLineEndings = function(content) {\n    var replaceRegex = /(\\r\\n|\\r|\\n)/g;\n    if (typeof content === \"string\" && _globalConfig.fixLineEndings === true) {\n      if (_isWindows()) {\n        if (/((^|[^\\r])\\n|\\r([^\\n]|$))/.test(content)) {\n          content = content.replace(replaceRegex, \"\\r\\n\");\n        }\n      } else if (/\\r/.test(content)) {\n        content = content.replace(replaceRegex, \"\\n\");\n      }\n    }\n    return content;\n  };\n  /**\n * Attempt to detect if ZeroClipboard is executing inside of a sandboxed iframe.\n * If it is, Flash Player cannot be used, so ZeroClipboard is dead in the water.\n *\n * @see {@link http://lists.w3.org/Archives/Public/public-whatwg-archive/2014Dec/0002.html}\n * @see {@link https://github.com/zeroclipboard/zeroclipboard/issues/511}\n * @see {@link http://zeroclipboard.org/test-iframes.html}\n *\n * @returns `true` (is sandboxed), `false` (is not sandboxed), or `null` (uncertain)\n * @private\n */\n  var _detectSandbox = function(doNotReassessFlashSupport) {\n    var effectiveScriptOrigin, frame, frameError, previousState = _flashState.sandboxed, isSandboxed = null;\n    doNotReassessFlashSupport = doNotReassessFlashSupport === true;\n    if (_pageIsFramed === false) {\n      isSandboxed = false;\n    } else {\n      try {\n        frame = window.frameElement || null;\n      } catch (e) {\n        frameError = {\n          name: e.name,\n          message: e.message\n        };\n      }\n      if (frame && frame.nodeType === 1 && frame.nodeName === \"IFRAME\") {\n        try {\n          isSandboxed = frame.hasAttribute(\"sandbox\");\n        } catch (e) {\n          isSandboxed = null;\n        }\n      } else {\n        try {\n          effectiveScriptOrigin = document.domain || null;\n        } catch (e) {\n          effectiveScriptOrigin = null;\n        }\n        if (effectiveScriptOrigin === null || frameError && frameError.name === \"SecurityError\" && /(^|[\\s\\(\\[@])sandbox(es|ed|ing|[\\s\\.,!\\)\\]@]|$)/.test(frameError.message.toLowerCase())) {\n          isSandboxed = true;\n        }\n      }\n    }\n    _flashState.sandboxed = isSandboxed;\n    if (previousState !== isSandboxed && !doNotReassessFlashSupport) {\n      _detectFlashSupport(_ActiveXObject);\n    }\n    return isSandboxed;\n  };\n  /**\n * Detect the Flash Player status, version, and plugin type.\n *\n * @see {@link https://code.google.com/p/doctype-mirror/wiki/ArticleDetectFlash#The_code}\n * @see {@link http://stackoverflow.com/questions/12866060/detecting-pepper-ppapi-flash-with-javascript}\n *\n * @returns `undefined`\n * @private\n */\n  var _detectFlashSupport = function(ActiveXObject) {\n    var plugin, ax, mimeType, hasFlash = false, isActiveX = false, isPPAPI = false, flashVersion = \"\";\n    /**\n   * Derived from Apple's suggested sniffer.\n   * @param {String} desc e.g. \"Shockwave Flash 7.0 r61\"\n   * @returns {String} \"7.0.61\"\n   * @private\n   */\n    function parseFlashVersion(desc) {\n      var matches = desc.match(/[\\d]+/g);\n      matches.length = 3;\n      return matches.join(\".\");\n    }\n    function isPepperFlash(flashPlayerFileName) {\n      return !!flashPlayerFileName && (flashPlayerFileName = flashPlayerFileName.toLowerCase()) && (/^(pepflashplayer\\.dll|libpepflashplayer\\.so|pepperflashplayer\\.plugin)$/.test(flashPlayerFileName) || flashPlayerFileName.slice(-13) === \"chrome.plugin\");\n    }\n    function inspectPlugin(plugin) {\n      if (plugin) {\n        hasFlash = true;\n        if (plugin.version) {\n          flashVersion = parseFlashVersion(plugin.version);\n        }\n        if (!flashVersion && plugin.description) {\n          flashVersion = parseFlashVersion(plugin.description);\n        }\n        if (plugin.filename) {\n          isPPAPI = isPepperFlash(plugin.filename);\n        }\n      }\n    }\n    if (_navigator.plugins && _navigator.plugins.length) {\n      plugin = _navigator.plugins[\"Shockwave Flash\"];\n      inspectPlugin(plugin);\n      if (_navigator.plugins[\"Shockwave Flash 2.0\"]) {\n        hasFlash = true;\n        flashVersion = \"2.0.0.11\";\n      }\n    } else if (_navigator.mimeTypes && _navigator.mimeTypes.length) {\n      mimeType = _navigator.mimeTypes[\"application/x-shockwave-flash\"];\n      plugin = mimeType && mimeType.enabledPlugin;\n      inspectPlugin(plugin);\n    } else if (typeof ActiveXObject !== \"undefined\") {\n      isActiveX = true;\n      try {\n        ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\");\n        hasFlash = true;\n        flashVersion = parseFlashVersion(ax.GetVariable(\"$version\"));\n      } catch (e1) {\n        try {\n          ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\");\n          hasFlash = true;\n          flashVersion = \"6.0.21\";\n        } catch (e2) {\n          try {\n            ax = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n            hasFlash = true;\n            flashVersion = parseFlashVersion(ax.GetVariable(\"$version\"));\n          } catch (e3) {\n            isActiveX = false;\n          }\n        }\n      }\n    }\n    _flashState.disabled = hasFlash !== true;\n    _flashState.outdated = flashVersion && _parseFloat(flashVersion) < _parseFloat(_minimumFlashVersion);\n    _flashState.version = flashVersion || \"0.0.0\";\n    _flashState.pluginType = isPPAPI ? \"pepper\" : isActiveX ? \"activex\" : hasFlash ? \"netscape\" : \"unknown\";\n  };\n  /**\n * Invoke the Flash detection algorithms immediately upon inclusion so we're not waiting later.\n */\n  _detectFlashSupport(_ActiveXObject);\n  /**\n * Always assess the `sandboxed` state of the page at important Flash-related moments.\n */\n  _detectSandbox(true);\n  /**\n * A shell constructor for `ZeroClipboard` client instances.\n *\n * @constructor\n */\n  var ZeroClipboard = function() {\n    if (!(this instanceof ZeroClipboard)) {\n      return new ZeroClipboard();\n    }\n    if (typeof ZeroClipboard._createClient === \"function\") {\n      ZeroClipboard._createClient.apply(this, _args(arguments));\n    }\n  };\n  /**\n * The ZeroClipboard library's version number.\n *\n * @static\n * @readonly\n * @property {string}\n */\n  ZeroClipboard.version = \"2.3.0\";\n  /**\n * Update or get a copy of the ZeroClipboard global configuration.\n * Returns a copy of the current/updated configuration.\n *\n * @returns Object\n * @static\n */\n  ZeroClipboard.config = function() {\n    return _config.apply(this, _args(arguments));\n  };\n  /**\n * Diagnostic method that describes the state of the browser, Flash Player, and ZeroClipboard.\n *\n * @returns Object\n * @static\n */\n  ZeroClipboard.state = function() {\n    return _state.apply(this, _args(arguments));\n  };\n  /**\n * Check if Flash is unusable for any reason: disabled, outdated, deactivated, etc.\n *\n * @returns Boolean\n * @static\n */\n  ZeroClipboard.isFlashUnusable = function() {\n    return _isFlashUnusable.apply(this, _args(arguments));\n  };\n  /**\n * Register an event listener.\n *\n * @returns `ZeroClipboard`\n * @static\n */\n  ZeroClipboard.on = function() {\n    return _on.apply(this, _args(arguments));\n  };\n  /**\n * Unregister an event listener.\n * If no `listener` function/object is provided, it will unregister all listeners for the provided `eventType`.\n * If no `eventType` is provided, it will unregister all listeners for every event type.\n *\n * @returns `ZeroClipboard`\n * @static\n */\n  ZeroClipboard.off = function() {\n    return _off.apply(this, _args(arguments));\n  };\n  /**\n * Retrieve event listeners for an `eventType`.\n * If no `eventType` is provided, it will retrieve all listeners for every event type.\n *\n * @returns array of listeners for the `eventType`; if no `eventType`, then a map/hash object of listeners for all event types; or `null`\n */\n  ZeroClipboard.handlers = function() {\n    return _listeners.apply(this, _args(arguments));\n  };\n  /**\n * Event emission receiver from the Flash object, forwarding to any registered JavaScript event listeners.\n *\n * @returns For the \"copy\" event, returns the Flash-friendly \"clipData\" object; otherwise `undefined`.\n * @static\n */\n  ZeroClipboard.emit = function() {\n    return _emit.apply(this, _args(arguments));\n  };\n  /**\n * Create and embed the Flash object.\n *\n * @returns The Flash object\n * @static\n */\n  ZeroClipboard.create = function() {\n    return _create.apply(this, _args(arguments));\n  };\n  /**\n * Self-destruct and clean up everything, including the embedded Flash object.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.destroy = function() {\n    return _destroy.apply(this, _args(arguments));\n  };\n  /**\n * Set the pending data for clipboard injection.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.setData = function() {\n    return _setData.apply(this, _args(arguments));\n  };\n  /**\n * Clear the pending data for clipboard injection.\n * If no `format` is provided, all pending data formats will be cleared.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.clearData = function() {\n    return _clearData.apply(this, _args(arguments));\n  };\n  /**\n * Get a copy of the pending data for clipboard injection.\n * If no `format` is provided, a copy of ALL pending data formats will be returned.\n *\n * @returns `String` or `Object`\n * @static\n */\n  ZeroClipboard.getData = function() {\n    return _getData.apply(this, _args(arguments));\n  };\n  /**\n * Sets the current HTML object that the Flash object should overlay. This will put the global\n * Flash object on top of the current element; depending on the setup, this may also set the\n * pending clipboard text data as well as the Flash object's wrapping element's title attribute\n * based on the underlying HTML element and ZeroClipboard configuration.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.focus = ZeroClipboard.activate = function() {\n    return _focus.apply(this, _args(arguments));\n  };\n  /**\n * Un-overlays the Flash object. This will put the global Flash object off-screen; depending on\n * the setup, this may also unset the Flash object's wrapping element's title attribute based on\n * the underlying HTML element and ZeroClipboard configuration.\n *\n * @returns `undefined`\n * @static\n */\n  ZeroClipboard.blur = ZeroClipboard.deactivate = function() {\n    return _blur.apply(this, _args(arguments));\n  };\n  /**\n * Returns the currently focused/\"activated\" HTML element that the Flash object is wrapping.\n *\n * @returns `HTMLElement` or `null`\n * @static\n */\n  ZeroClipboard.activeElement = function() {\n    return _activeElement.apply(this, _args(arguments));\n  };\n  /**\n * Keep track of the ZeroClipboard client instance counter.\n */\n  var _clientIdCounter = 0;\n  /**\n * Keep track of the state of the client instances.\n *\n * Entry structure:\n *   _clientMeta[client.id] = {\n *     instance: client,\n *     elements: [],\n *     handlers: {},\n *     coreWildcardHandler: function(event) { return client.emit(event); }\n *   };\n */\n  var _clientMeta = {};\n  /**\n * Keep track of the ZeroClipboard clipped elements counter.\n */\n  var _elementIdCounter = 0;\n  /**\n * Keep track of the state of the clipped element relationships to clients.\n *\n * Entry structure:\n *   _elementMeta[element.zcClippingId] = [client1.id, client2.id];\n */\n  var _elementMeta = {};\n  /**\n * Keep track of the state of the mouse event handlers for clipped elements.\n *\n * Entry structure:\n *   _mouseHandlers[element.zcClippingId] = {\n *     mouseover:  function(event) {},\n *     mouseout:   function(event) {},\n *     mouseenter: function(event) {},\n *     mouseleave: function(event) {},\n *     mousemove:  function(event) {}\n *   };\n */\n  var _mouseHandlers = {};\n  /**\n * Extending the ZeroClipboard configuration defaults for the Client module.\n */\n  _extend(_globalConfig, {\n    autoActivate: true\n  });\n  /**\n * The real constructor for `ZeroClipboard` client instances.\n * @private\n */\n  var _clientConstructor = function(elements) {\n    var meta, client = this;\n    client.id = \"\" + _clientIdCounter++;\n    meta = {\n      instance: client,\n      elements: [],\n      handlers: {},\n      coreWildcardHandler: function(event) {\n        return client.emit(event);\n      }\n    };\n    _clientMeta[client.id] = meta;\n    if (elements) {\n      client.clip(elements);\n    }\n    ZeroClipboard.on(\"*\", meta.coreWildcardHandler);\n    ZeroClipboard.on(\"destroy\", function() {\n      client.destroy();\n    });\n    ZeroClipboard.create();\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.on`.\n * @private\n */\n  var _clientOn = function(eventType, listener) {\n    var i, len, events, added = {}, client = this, meta = _clientMeta[client.id], handlers = meta && meta.handlers;\n    if (!meta) {\n      throw new Error(\"Attempted to add new listener(s) to a destroyed ZeroClipboard client instance\");\n    }\n    if (typeof eventType === \"string\" && eventType) {\n      events = eventType.toLowerCase().split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && !(\"length\" in eventType) && typeof listener === \"undefined\") {\n      _keys(eventType).forEach(function(key) {\n        var listener = eventType[key];\n        if (typeof listener === \"function\") {\n          client.on(key, listener);\n        }\n      });\n    }\n    if (events && events.length && listener) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].replace(/^on/, \"\");\n        added[eventType] = true;\n        if (!handlers[eventType]) {\n          handlers[eventType] = [];\n        }\n        handlers[eventType].push(listener);\n      }\n      if (added.ready && _flashState.ready) {\n        this.emit({\n          type: \"ready\",\n          client: this\n        });\n      }\n      if (added.error) {\n        for (i = 0, len = _flashStateErrorNames.length; i < len; i++) {\n          if (_flashState[_flashStateErrorNames[i].replace(/^flash-/, \"\")]) {\n            this.emit({\n              type: \"error\",\n              name: _flashStateErrorNames[i],\n              client: this\n            });\n            break;\n          }\n        }\n        if (_zcSwfVersion !== undefined && ZeroClipboard.version !== _zcSwfVersion) {\n          this.emit({\n            type: \"error\",\n            name: \"version-mismatch\",\n            jsVersion: ZeroClipboard.version,\n            swfVersion: _zcSwfVersion\n          });\n        }\n      }\n    }\n    return client;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.off`.\n * @private\n */\n  var _clientOff = function(eventType, listener) {\n    var i, len, foundIndex, events, perEventHandlers, client = this, meta = _clientMeta[client.id], handlers = meta && meta.handlers;\n    if (!handlers) {\n      return client;\n    }\n    if (arguments.length === 0) {\n      events = _keys(handlers);\n    } else if (typeof eventType === \"string\" && eventType) {\n      events = eventType.split(/\\s+/);\n    } else if (typeof eventType === \"object\" && eventType && !(\"length\" in eventType) && typeof listener === \"undefined\") {\n      _keys(eventType).forEach(function(key) {\n        var listener = eventType[key];\n        if (typeof listener === \"function\") {\n          client.off(key, listener);\n        }\n      });\n    }\n    if (events && events.length) {\n      for (i = 0, len = events.length; i < len; i++) {\n        eventType = events[i].toLowerCase().replace(/^on/, \"\");\n        perEventHandlers = handlers[eventType];\n        if (perEventHandlers && perEventHandlers.length) {\n          if (listener) {\n            foundIndex = perEventHandlers.indexOf(listener);\n            while (foundIndex !== -1) {\n              perEventHandlers.splice(foundIndex, 1);\n              foundIndex = perEventHandlers.indexOf(listener, foundIndex);\n            }\n          } else {\n            perEventHandlers.length = 0;\n          }\n        }\n      }\n    }\n    return client;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.handlers`.\n * @private\n */\n  var _clientListeners = function(eventType) {\n    var copy = null, handlers = _clientMeta[this.id] && _clientMeta[this.id].handlers;\n    if (handlers) {\n      if (typeof eventType === \"string\" && eventType) {\n        copy = handlers[eventType] ? handlers[eventType].slice(0) : [];\n      } else {\n        copy = _deepCopy(handlers);\n      }\n    }\n    return copy;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.emit`.\n * @private\n */\n  var _clientEmit = function(event) {\n    var eventCopy, client = this;\n    if (_clientShouldEmit.call(client, event)) {\n      if (typeof event === \"object\" && event && typeof event.type === \"string\" && event.type) {\n        event = _extend({}, event);\n      }\n      eventCopy = _extend({}, _createEvent(event), {\n        client: client\n      });\n      _clientDispatchCallbacks.call(client, eventCopy);\n    }\n    return client;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.clip`.\n * @private\n */\n  var _clientClip = function(elements) {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to clip element(s) to a destroyed ZeroClipboard client instance\");\n    }\n    elements = _prepClip(elements);\n    for (var i = 0; i < elements.length; i++) {\n      if (_hasOwn.call(elements, i) && elements[i] && elements[i].nodeType === 1) {\n        if (!elements[i].zcClippingId) {\n          elements[i].zcClippingId = \"zcClippingId_\" + _elementIdCounter++;\n          _elementMeta[elements[i].zcClippingId] = [ this.id ];\n          if (_globalConfig.autoActivate === true) {\n            _addMouseHandlers(elements[i]);\n          }\n        } else if (_elementMeta[elements[i].zcClippingId].indexOf(this.id) === -1) {\n          _elementMeta[elements[i].zcClippingId].push(this.id);\n        }\n        var clippedElements = _clientMeta[this.id] && _clientMeta[this.id].elements;\n        if (clippedElements.indexOf(elements[i]) === -1) {\n          clippedElements.push(elements[i]);\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.unclip`.\n * @private\n */\n  var _clientUnclip = function(elements) {\n    var meta = _clientMeta[this.id];\n    if (!meta) {\n      return this;\n    }\n    var clippedElements = meta.elements;\n    var arrayIndex;\n    if (typeof elements === \"undefined\") {\n      elements = clippedElements.slice(0);\n    } else {\n      elements = _prepClip(elements);\n    }\n    for (var i = elements.length; i--; ) {\n      if (_hasOwn.call(elements, i) && elements[i] && elements[i].nodeType === 1) {\n        arrayIndex = 0;\n        while ((arrayIndex = clippedElements.indexOf(elements[i], arrayIndex)) !== -1) {\n          clippedElements.splice(arrayIndex, 1);\n        }\n        var clientIds = _elementMeta[elements[i].zcClippingId];\n        if (clientIds) {\n          arrayIndex = 0;\n          while ((arrayIndex = clientIds.indexOf(this.id, arrayIndex)) !== -1) {\n            clientIds.splice(arrayIndex, 1);\n          }\n          if (clientIds.length === 0) {\n            if (_globalConfig.autoActivate === true) {\n              _removeMouseHandlers(elements[i]);\n            }\n            delete elements[i].zcClippingId;\n          }\n        }\n      }\n    }\n    return this;\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.elements`.\n * @private\n */\n  var _clientElements = function() {\n    var meta = _clientMeta[this.id];\n    return meta && meta.elements ? meta.elements.slice(0) : [];\n  };\n  /**\n * The underlying implementation of `ZeroClipboard.Client.prototype.destroy`.\n * @private\n */\n  var _clientDestroy = function() {\n    var meta = _clientMeta[this.id];\n    if (!meta) {\n      return;\n    }\n    this.unclip();\n    this.off();\n    ZeroClipboard.off(\"*\", meta.coreWildcardHandler);\n    delete _clientMeta[this.id];\n  };\n  /**\n * Inspect an Event to see if the Client (`this`) should honor it for emission.\n * @private\n */\n  var _clientShouldEmit = function(event) {\n    if (!(event && event.type)) {\n      return false;\n    }\n    if (event.client && event.client !== this) {\n      return false;\n    }\n    var meta = _clientMeta[this.id];\n    var clippedEls = meta && meta.elements;\n    var hasClippedEls = !!clippedEls && clippedEls.length > 0;\n    var goodTarget = !event.target || hasClippedEls && clippedEls.indexOf(event.target) !== -1;\n    var goodRelTarget = event.relatedTarget && hasClippedEls && clippedEls.indexOf(event.relatedTarget) !== -1;\n    var goodClient = event.client && event.client === this;\n    if (!meta || !(goodTarget || goodRelTarget || goodClient)) {\n      return false;\n    }\n    return true;\n  };\n  /**\n * Handle the actual dispatching of events to a client instance.\n *\n * @returns `undefined`\n * @private\n */\n  var _clientDispatchCallbacks = function(event) {\n    var meta = _clientMeta[this.id];\n    if (!(typeof event === \"object\" && event && event.type && meta)) {\n      return;\n    }\n    var async = _shouldPerformAsync(event);\n    var wildcardTypeHandlers = meta && meta.handlers[\"*\"] || [];\n    var specificTypeHandlers = meta && meta.handlers[event.type] || [];\n    var handlers = wildcardTypeHandlers.concat(specificTypeHandlers);\n    if (handlers && handlers.length) {\n      var i, len, func, context, eventCopy, originalContext = this;\n      for (i = 0, len = handlers.length; i < len; i++) {\n        func = handlers[i];\n        context = originalContext;\n        if (typeof func === \"string\" && typeof _window[func] === \"function\") {\n          func = _window[func];\n        }\n        if (typeof func === \"object\" && func && typeof func.handleEvent === \"function\") {\n          context = func;\n          func = func.handleEvent;\n        }\n        if (typeof func === \"function\") {\n          eventCopy = _extend({}, event);\n          _dispatchCallback(func, context, [ eventCopy ], async);\n        }\n      }\n    }\n  };\n  /**\n * Prepares the elements for clipping/unclipping.\n *\n * @returns An Array of elements.\n * @private\n */\n  var _prepClip = function(elements) {\n    if (typeof elements === \"string\") {\n      elements = [];\n    }\n    return typeof elements.length !== \"number\" ? [ elements ] : elements;\n  };\n  /**\n * Add a `mouseover` handler function for a clipped element.\n *\n * @returns `undefined`\n * @private\n */\n  var _addMouseHandlers = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    var _suppressMouseEvents = function(event) {\n      if (!(event || (event = _window.event))) {\n        return;\n      }\n      if (event._source !== \"js\") {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n      }\n      delete event._source;\n    };\n    var _elementMouseOver = function(event) {\n      if (!(event || (event = _window.event))) {\n        return;\n      }\n      _suppressMouseEvents(event);\n      ZeroClipboard.focus(element);\n    };\n    element.addEventListener(\"mouseover\", _elementMouseOver, false);\n    element.addEventListener(\"mouseout\", _suppressMouseEvents, false);\n    element.addEventListener(\"mouseenter\", _suppressMouseEvents, false);\n    element.addEventListener(\"mouseleave\", _suppressMouseEvents, false);\n    element.addEventListener(\"mousemove\", _suppressMouseEvents, false);\n    _mouseHandlers[element.zcClippingId] = {\n      mouseover: _elementMouseOver,\n      mouseout: _suppressMouseEvents,\n      mouseenter: _suppressMouseEvents,\n      mouseleave: _suppressMouseEvents,\n      mousemove: _suppressMouseEvents\n    };\n  };\n  /**\n * Remove a `mouseover` handler function for a clipped element.\n *\n * @returns `undefined`\n * @private\n */\n  var _removeMouseHandlers = function(element) {\n    if (!(element && element.nodeType === 1)) {\n      return;\n    }\n    var mouseHandlers = _mouseHandlers[element.zcClippingId];\n    if (!(typeof mouseHandlers === \"object\" && mouseHandlers)) {\n      return;\n    }\n    var key, val, mouseEvents = [ \"move\", \"leave\", \"enter\", \"out\", \"over\" ];\n    for (var i = 0, len = mouseEvents.length; i < len; i++) {\n      key = \"mouse\" + mouseEvents[i];\n      val = mouseHandlers[key];\n      if (typeof val === \"function\") {\n        element.removeEventListener(key, val, false);\n      }\n    }\n    delete _mouseHandlers[element.zcClippingId];\n  };\n  /**\n * Creates a new ZeroClipboard client instance.\n * Optionally, auto-`clip` an element or collection of elements.\n *\n * @constructor\n */\n  ZeroClipboard._createClient = function() {\n    _clientConstructor.apply(this, _args(arguments));\n  };\n  /**\n * Register an event listener to the client.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.on = function() {\n    return _clientOn.apply(this, _args(arguments));\n  };\n  /**\n * Unregister an event handler from the client.\n * If no `listener` function/object is provided, it will unregister all handlers for the provided `eventType`.\n * If no `eventType` is provided, it will unregister all handlers for every event type.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.off = function() {\n    return _clientOff.apply(this, _args(arguments));\n  };\n  /**\n * Retrieve event listeners for an `eventType` from the client.\n * If no `eventType` is provided, it will retrieve all listeners for every event type.\n *\n * @returns array of listeners for the `eventType`; if no `eventType`, then a map/hash object of listeners for all event types; or `null`\n */\n  ZeroClipboard.prototype.handlers = function() {\n    return _clientListeners.apply(this, _args(arguments));\n  };\n  /**\n * Event emission receiver from the Flash object for this client's registered JavaScript event listeners.\n *\n * @returns For the \"copy\" event, returns the Flash-friendly \"clipData\" object; otherwise `undefined`.\n */\n  ZeroClipboard.prototype.emit = function() {\n    return _clientEmit.apply(this, _args(arguments));\n  };\n  /**\n * Register clipboard actions for new element(s) to the client.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.clip = function() {\n    return _clientClip.apply(this, _args(arguments));\n  };\n  /**\n * Unregister the clipboard actions of previously registered element(s) on the page.\n * If no elements are provided, ALL registered elements will be unregistered.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.unclip = function() {\n    return _clientUnclip.apply(this, _args(arguments));\n  };\n  /**\n * Get all of the elements to which this client is clipped.\n *\n * @returns array of clipped elements\n */\n  ZeroClipboard.prototype.elements = function() {\n    return _clientElements.apply(this, _args(arguments));\n  };\n  /**\n * Self-destruct and clean up everything for a single client.\n * This will NOT destroy the embedded Flash object.\n *\n * @returns `undefined`\n */\n  ZeroClipboard.prototype.destroy = function() {\n    return _clientDestroy.apply(this, _args(arguments));\n  };\n  /**\n * Stores the pending plain text to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setText = function(text) {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance\");\n    }\n    ZeroClipboard.setData(\"text/plain\", text);\n    return this;\n  };\n  /**\n * Stores the pending HTML text to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setHtml = function(html) {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance\");\n    }\n    ZeroClipboard.setData(\"text/html\", html);\n    return this;\n  };\n  /**\n * Stores the pending rich text (RTF) to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setRichText = function(richText) {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance\");\n    }\n    ZeroClipboard.setData(\"application/rtf\", richText);\n    return this;\n  };\n  /**\n * Stores the pending data to inject into the clipboard.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.setData = function() {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance\");\n    }\n    ZeroClipboard.setData.apply(this, _args(arguments));\n    return this;\n  };\n  /**\n * Clears the pending data to inject into the clipboard.\n * If no `format` is provided, all pending data formats will be cleared.\n *\n * @returns `this`\n */\n  ZeroClipboard.prototype.clearData = function() {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance\");\n    }\n    ZeroClipboard.clearData.apply(this, _args(arguments));\n    return this;\n  };\n  /**\n * Gets a copy of the pending data to inject into the clipboard.\n * If no `format` is provided, a copy of ALL pending data formats will be returned.\n *\n * @returns `String` or `Object`\n */\n  ZeroClipboard.prototype.getData = function() {\n    if (!_clientMeta[this.id]) {\n      throw new Error(\"Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance\");\n    }\n    return ZeroClipboard.getData.apply(this, _args(arguments));\n  };\n  if (typeof define === \"function\" && define.amd) {\n    define(function() {\n      return ZeroClipboard;\n    });\n  } else if (typeof module === \"object\" && module && typeof module.exports === \"object\" && module.exports) {\n    module.exports = ZeroClipboard;\n  } else {\n    window.ZeroClipboard = ZeroClipboard;\n  }\n})(function() {\n  return this || window;\n}());"]}