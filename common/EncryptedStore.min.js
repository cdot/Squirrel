/*@preserve Copyright (C) 2015 Crawford Currie http://c-dot.co.uk license MIT*/
function EncryptedStore(params){"use strict";LayeredStore.call(this,params)}EncryptedStore.prototype=Object.create(LayeredStore.prototype),EncryptedStore.prototype.options=function(){"use strict";return $.extend(LayeredStore.prototype.options.call(this),{needs_pass:!0})},EncryptedStore.prototype.read=function(path,ok,fail){"use strict";var self=this;this.engine.read(path,function(ab){var data;try{data=AES.decrypt(ab,self.engine.pass(),256)}catch(e){return void fail.call(self,e)}ok.call(self,data.buffer)},fail)},EncryptedStore.prototype.write=function(path,ab,ok,fail){"use strict";var xa,self=this;try{xa=AES.encrypt(ab,this.engine.pass(),256)}catch(e){return void fail.call(this,e)}this.engine.write(path,xa.buffer,function(){ok.call(self)},fail)};
//# sourceMappingURL=EncryptedStore.map