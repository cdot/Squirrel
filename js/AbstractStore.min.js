/*@preserve Copyright (C) 2015 Crawford Currie http://c-dot.co.uk license MIT*/
function AbstractStore(params){"use strict";params.ok.call(this)}function LayeredStore(params){"use strict";var self=this,pok=params.ok;params.ok=function(){self.engine=this,pok.call(self)},params.understore(params)}AbstractStore.NODATA="not found",AbstractStore.prototype.options=function(){"use strict";return{identifier:"Unknown"}},AbstractStore.prototype.user=function(user){"use strict";return void 0!==user&&(this.suser=user),this.suser},AbstractStore.prototype.pass=function(pass){"use strict";return 1===arguments.length&&void 0!==pass&&(this.spass=pass),this.spass},AbstractStore.prototype.write=function(path,data,ok,fail){"use strict";fail.call(this,"Store has no write method")},AbstractStore.prototype.writes=function(path,str,ok,fail){"use strict";this.write(path,Utils.StringToArrayBuffer(str),ok,fail)},AbstractStore.prototype.read=function(path,ok,fail){"use strict";fail.call(this,"Store has no read method")},AbstractStore.prototype.reads=function(path,ok,fail){"use strict";var self=this;this.read(path,function(ab){var data;try{data=Utils.ArrayBufferToString(ab)}catch(e){return DEBUG&&console.debug("Caught "+e),void fail.call(self,e)}ok.call(self,data)},fail)},LayeredStore.prototype=Object.create(AbstractStore.prototype),LayeredStore.prototype.options=function(){"use strict";return this.engine.options()},LayeredStore.prototype.user=function(u){"use strict";return this.engine.user(u)},LayeredStore.prototype.pass=function(pw){"use strict";return this.engine.pass(pw)};
//# sourceMappingURL=AbstractStore.map