{"version":3,"sources":["js/edit_in_place.js"],"names":["$","fn","edit_in_place","options","$this","this","h","height","w","width","changed","text","$input","blurb","remove","show","hide","insertBefore","addClass","val","css","on","call","getEndEvent","e","stopPropagation","getStartEvent","keyCode","blur","select","jQuery"],"mappings":";CAKA,SAAUA,GACN,YACAA,GAAEC,GAAGC,cAAgB,SAASC,SAE1B,GAAIC,OAAQJ,EAAEK,MACVC,EAAIH,QAAQI,QAAUH,MAAMG,SAC5BC,EAAIL,QAAQM,OAASL,MAAMK,QAC3BC,QAAUP,QAAQO,SAClB,WACIN,MAAMO,QAEVC,OAASZ,EAAE,YACfa,MAAQ,WACJD,OAAOE,SACPV,MAAMW,OAGVX,OAAMY,OAENJ,OACKK,aAAab,OACbc,SAAS,mBACTC,IAAIf,MAAMO,QACVS,IAAI,SAAUd,GACdc,IAAI,QAASZ,GAEba,GAAG,SAAU,WACV,GAAIF,KAAMnB,EAAEK,MAAMc,KAClBN,SACIM,MAAQf,MAAMO,QACdD,QAAQY,KAAKlB,MAAOe,OAG3BE,GAAGrB,EAAEuB,cAAe,SAASC,GAE1BA,EAAEC,oBAILJ,GAAGrB,EAAE0B,gBAAiB,SAASF,GAE5BA,EAAEC,oBAILJ,GAAG,UAAW,SAASG,GACpB,MAAkB,MAAdA,EAAEG,UACgB,KAAdH,EAAEG,SACC3B,EAAEK,MAAMc,QAAUf,MAAMO,UAC/BE,SACO,KAKde,KAAKf,OACLgB,WAEVC","file":"js/edit_in_place.min.js","sourcesContent":["/*@preserve Copyright (C) 2015 Crawford Currie http://c-dot.co.uk license MIT*/\n\n/**\n * Simple in-place editing widget\n */\n(function($) {\n    \"use strict\";\n    $.fn.edit_in_place = function(options) {\n\n        var $this = $(this);\n        var h = options.height || $this.height();\n        var w = options.width || $this.width();\n        var changed = options.changed ||\n            function(/*text*/) {\n                $this.text();\n            };\n        var $input = $(\"<input/>\"),\n        blurb = function() {\n            $input.remove();\n            $this.show();\n        };\n\n        $this.hide();\n\n        $input\n            .insertBefore($this)\n            .addClass(\"in_place_editor\")\n            .val($this.text())\n            .css(\"height\", h)\n            .css(\"width\", w)\n\n            .on(\"change\", function() {\n                var val = $(this).val();\n                blurb();\n                if (val !== $this.text())\n                    changed.call($this, val);\n            })\n\n            .on($.getEndEvent(), function(e) {\n                // Override the parent click handler\n                e.stopPropagation();\n                // e.preventDefault(); Kills mouse events on desktop input\n            })\n\n            .on($.getStartEvent(), function(e) {\n                // Override the parent click handler\n                e.stopPropagation();\n                // e.preventDefault(); Kills mouse events on desktop input\n            })\n\n            .on(\"keydown\", function(e) { // Escape means cancel\n                if (e.keyCode === 27\n                    || (e.keyCode === 13\n                        && $(this).val() === $this.text())) {\n                    blurb();\n                    return false;\n                } else\n                    return true;\n            })\n\n            .blur(blurb)\n            .select();\n    };\n})(jQuery);\n"]}