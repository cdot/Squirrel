<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta name="cache-control" content="public">
    <meta name="expires" content="Wed, 1 Jan 2025 12:00:00 GMT" -->
    <title>Squirrel</title>
    <base href="..">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="common/styles.uncompressed.css" />
    <script src="libs/jquery-2.1.3.uncompressed.js"></script>
    <script src="libs/aes.uncompressed.js"></script>
    <script src="common/Utils.uncompressed.js"></script>
    <script src="common/Translation.uncompressed.js"></script>
    <script src="common/AbstractStore.uncompressed.js"></script>
    <script src="common/LocalStorageStore.uncompressed.js"></script>
    <script src="common/AES.uncompressed.js"></script>
    <script src="common/EncryptedStore.uncompressed.js"></script>
    <script src="common/Hoard.uncompressed.js"></script>
    <script src="common/Squirrel.uncompressed.js"></script>
    <script src="common/Dialogs.uncompressed.js"></script>
    <script src="common/scroll_into_view.uncompressed.js"></script>

    <link rel="stylesheet" href="libs/jquery-ui.uncompressed.css">
    <link rel="stylesheet" href="desktop/styles.uncompressed.css" />
    <script src="libs/jquery-ui.uncompressed.js"></script>
    <script src="libs/jquery-ui-contextmenu.uncompressed.js",></script>
    <script src="common/edit_in_place.uncompressed.js"></script>
    <script src="common/Tree.uncompressed.js"></script>
    <script src="libs/ZeroClipboard.uncompressed.js",></script>
    <script src="desktop/Squirrel.uncompressed.js"></script>
    <script src="desktop/Tree.uncompressed.js",></script>
    <script src="desktop/ContextMenu.uncompressed.js",></script>
    <script src="desktop/Dialogs.uncompressed.js"></script>
  </head>
  <body>
    <div class="unauthenticated">
      <h1>Squirrel</h1>
      <div id="authmessage" class="progress TX_text">Authenticating...</div>
      <div class="authfailed TX_text">Authentication failed. Refresh the browser to try again.</div>
    </div>
    <div class="authenticated">
      <img id="logo" src="images/squirrel.svg">
      <span id="search_label" class="TX_text">Search:</span>
      <input id="search" value="" class="TX_title" title="Enter search string" />
      <span id="search_hits"></span>
      <div id="signed_in">
        <span class="TX_text">Signed in as: </span><span id="whoami"></span>
      </div>
      <div id="toolbar">
        <button id="authenticated_extras" class="TX_title TX_text" title="Tools/Options" data-icon="ui-icon-squirrel-gear">Tools</button>
        <button id="authenticated_undo" class="TX_title TX_text" title="Undo last change" data-icon="ui-icon-squirrel-undo">Undo</button>
        <button id="authenticated_save" class="TX_text" data-icon="ui-icon-squirrel-save">Save</button>
      </div>
      <div id="sites-div">
        <div id="sites-node">
          <h3 class="TX_text">Sites</h3>
        </div>
      </div>
    </div>
    
    <!-- Dialogs -->
    <div id="extras" class="dialog TX_title hidden" title="Extras">
      <span class="TX_text">Autosave</span>
      <select id="extras_autosave">
        <option value="off" class="TX_text">Off</option>
	<option value="on" class="TX_text">On</option>
      </select><br />
      <button id="extras_chss" class="TX_text">Change cloud store settings</button><br />
      <button id="extras_chpw" class="TX_text">Change master password</button><br />
      <button id="extras_json" class="TX_text">View/Edit JSON</button><br />
      <button id="extras_about" class="TX_text">About Squirrel</button>
    </div>

    <div id="login" class="dialog TX_title hidden" title="Enter the password for your safe">
      <p id="login_foruser"></p>
      <table width="100%">
        <tbody>
          <tr id="login_uReq">
	    <td class="TX_text">Username:</td>
	    <td>
	      <input size="50" id="login_user" value="" class="TX_title" title="Enter username" />
	    </td>
          </tr>
          <tr id="login_pReq">
	    <td class="TX_text">Password:</td>
	    <td>
	      <input type="password" size="50" id="login_pass" class="TX_title" title="Enter password" value="" />
	    </td>
          </tr>
        </tbody>
      </table>
      <p>
        <button id="login_signin" class="TX_text">Sign In</button>
      </p>
    </div>
    
    <div id="dlg_saving" class="dialog TX_title" title="Saving...">
      <div id="dlg_saving_message"></div>
    </div>
    
    <div id="dlg_loading" class="dialog TX_title" title="Loading...">
      <div class="TX_text progress">Please wait...</div>
    </div>
    
    <div id="activity" class="dialog TX_title hidden" title="Alert">
      <p id="activity_message"></p>
      <button id="activity_close" class="TX_text">OK</button>
    </div>
    
    <div id="randomise" class="dialog TX_title hidden" title="Generate random value">
      <span class="TX_text">Suggested value for</span>
      '<span id="randomise_key"></span>': '<span id="randomise_idea" class="value"></span>'
      <p>
        <span class="TX_text">Length:</span>
        <input size="20" value="24" id="randomise_len" class="TX_title" title="Enter password length" />
      </p>
      <p>
        <span class="TX_text">Character range:</span>
        <input size="20" value="A-Za-z0-9" id="randomise_chs" class="TX_title" title="Enter the characters that are legal in passwords for this site. You can use character ranges like A-Z or 0-9" />
      </p>
      <div>
        <button id="randomise_use" class="TX_text">Use this</button>
        <button id="randomise_again" class="TX_text">Try again</button>
        <button id="randomise_cancel" class="TX_text">Cancel</button>
      </div>
    </div>
    
    <div id="delete_node" class="dialog TX_title hidden" title="Delete entry">
      <p>
        <span class="TX_text">Are you sure you want to delete</span> '<span id="delete_node_message"></span>'
        <span id="delete_node_coll" class="TX_text"> and everything under it?</span>
      </p>
      <div>
        <button id="delete_node_cancel" class="TX_text">Cancel</button>
        <button id="delete_node_ok" class="TX_text">Delete</button>
      </div>
    </div>
    
    <div id="dlg_conflicts" class="dialog TX_title hidden" title="WARNING!">
      <p class="TX_text">
        Conflicts were detected while merging actions from the Cloud:
      </p>
      <div id="dlg_conflicts_message">
      </div>
      <p class="TX_text">
        Please review these rejected actions before saving
      </p>
    </div>
    
    <div id="chpw" class="dialog TX_title hidden" title="Change Password">
      <p class="warning TX_text">
        You should ensure that all clients up to date and you
        are safely connected to the internet before doing this,
        or you will lose data. Changing the master password will
        overwrite all data in the cloud with what you can currently
        see in the browser.
      </p>
      <table>
        <tr>
          <td>
            <label for="chpw_pass" class="TX_text">New password</label>
          </td>
          <td>
            <input type="password" size="50" id="chpw_pass" class="TX_title" title="Enter new password" value="" />
          </td>
        </tr>
        <tr>
          <td>
            <label for="chpw_conf" class="TX_text">
              Confirm new password
            </label>
          </td>
          <td>
            <input type="password" size="50" id="chpw_conf" class="TX_title" title="Re-enter new password" value="" />
          </td>
        </tr>
      </table>
      <p>
        <input type="checkbox" id="chpw_show">
        <label for="chpw_show" class="TX_text">
          Show password
        </label>
      </p>
      <div>
        <button id="chpw_set" class="TX_title TX_text" title="Set new master password">Set new password</button>
      </div>
    </div>
    
    <div id="alarm" class="dialog TX_title hidden" title="Reminder">
      <p>
        <span class="TX_text">Select when you want to be reminded about</span>
        <span id="alarm_path"></span>
      </p>
      <p class="TX_text">
        The reminder will be reset whenever the entry is modified.
      </p>
      <p>
        <label for="alarm_number" class="TX_text">Remind after</label>
        <input id="alarm_number" />
        <select id="alarm_units">
          <option value="d" class="TX_text">days</option>
          <option value="w" class="TX_text">weeks</option>
          <option value="m" selected="selected" class="TX_text">months</option>
          <option value="y" class="TX_text">years</option>
        </select>
      </p>
      <p>
        <span class="TX_text">Next reminder is due in</span>
        <span id="alarm_next"></span>
        <span class="alarm_next d TX_text">days</span>
        <span class="alarm_next w TX_text">weeks</span>
        <span class="alarm_next m TX_text">months</span>
        <span class="alarm_next y TX_text">years</span>
      </p>
      <div>
        <button id="alarm_set" class="TX_title TX_text" title="Set (or reset) reminder">Set reminder</button>
        <button id="alarm_cancel" class="TX_title TX_text" title="Cancel reminder">Cancel reminder</button>
      </div>
    </div>
    
    <div id="pick" class="dialog TX_title hidden" title="Pick characters">
      <p>
        Click on the Nth character position to see what character it is
      </p>
      <table>
        <tbody>
          <tr id="pick_which"></tr>
          <tr id="pick_from"></tr>
        </tbody>
      </table>
      <p>
        <button id="pick_clear" class="TX_text">Clear</button>
      </p>
    </div>
    
    <div id="store_settings" class="dialog TX_title hidden" title="Store settings">
      <div class="using_steganography">
        <p class="TX_text help">Choose a local image that will be copied
          and used to hide your data in the cloud. This should be a complex
          colour image of at least 1024x768 pixels, preferably with variable
          transparency. Note that very large images may take a long time to
          load and save.</p>
        <input type="file" id="store_settings_file" class="hidden" />
        <button id="store_settings_choose" class="TX_title TX_text" title="Choose an image file">
          Choose Image File
        </button>
        <p><img id="stegamage" src="images/GCHQ.png" /></p>
        <p id="store_settings_message"></p>
      </div>
      <p class="TX_text help">
        Set the pathname of the image on your cloud store. For example
        if you choose 'photos/stills/grandma.png' it will use the file
        'grandma.png' in the directory 'photos/stills'.
      </p>
      <label for="store_settings_storepath" class="TX_text">Store path: </label>
      <input id="store_settings_storepath" type="text" value="" class="TX_title" title="Pathname of the image in your cloud store"/>
      </p>
      <p>
        <button id="store_settings_ok" class="TX_text">OK</button>
      </p>
    </div>
    
    <div id="about" class="dialog TX_title hidden" title="About Squirrel">
      <p>
        Squirrel is Copyright &copy; 2015 Crawford Currie <a href="http://c-dot.co.uk">http://c-dot.co.uk</a>
      </p>
      <p>
        Licensed under the MIT License. Reuse within proprietary software is
        permitted provided all copies of the licensed software include a
        copy of the MIT License terms and the copyright notice.
      </p>
    </div>
    
      <div id="json" class="dialog TX_title hidden" title="Database JSON">
        <textarea id="json_text">
        </textarea>
        <div>
          <button id="json_ok" class="TX_text">Reload this JSON</button>
          <button id="json_cancel" class="TX_text">Cancel</button>
        </div>
      </div>

    <!-- Not really a dialog, just a handy way to hide stuff -->
    <div class="dialog">
      <input type="file" id="dlg_load_file" />
    </div>
    
  </body>
</html>
