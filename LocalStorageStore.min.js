function LocalStorageStore(params){"use strict";for(var key,i=0,poss_user=null;null!=(key=localStorage.key(i));){var m=/^Squirrel\.(.*)$/.exec(key);if(m){if(poss_user){poss_user=null;break}poss_user=m[1]}i++}null!==poss_user&&(console.debug("Lss: Identified possible user "+poss_user),this.user(poss_user)),AbstractStore.call(this,params)}LocalStorageStore.prototype=Object.create(AbstractStore.prototype),LocalStorageStore.prototype.identifier=function(){"use strict";return"browser"},LocalStorageStore.prototype.read=function(path,ok,fail){"use strict";var str;try{str=localStorage.getItem(path)}catch(e){return void fail.call(this,e)}if(null===str)fail.call(this,AbstractStore.NODATA);else{var data=Utils.PackedStringToArrayBuffer(str);ok.call(this,data)}},LocalStorageStore.prototype.write=function(path,data,ok,fail){"use strict";try{var str=Utils.ArrayBufferToPackedString(data);localStorage.setItem(path,str)}catch(e){return void fail.call(this,e)}ok.call(this)};